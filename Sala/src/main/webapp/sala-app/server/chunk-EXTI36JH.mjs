import './polyfills.server.mjs';
import{$ as Se,A as ce,B as v,C as kt,Ca as Kt,D as m,E as bt,F as s,G as o,Ga as F,H as se,Ha as $t,I as Mt,J as Et,Ja as P,K as D,Ka as Z,L as V,La as Zt,M as p,Ma as $,N as T,O as N,P as l,Q as C,R as w,S as De,T as I,U as S,V as x,W as Ee,X as b,Y as Ie,Z as ne,_ as re,a as At,b as Nt,ba as Ot,c as ie,d as Lt,e as Tt,f as K,fa as jt,g as et,h as Me,ha as Ut,i as X,j as vt,ja as tt,k as Fe,ka as Wt,l as Y,la as It,m as _t,n as y,na as it,o as Ct,oa as z,p as te,pa as E,q as yt,qa as he,r as f,ra as nt,s as g,sa as M,t as Ve,ta as J,u as ke,ua as Bt,v as Oe,va as Q,w as Rt,wa as Gt,x as c,xa as qt,y as u,ya as Ht,z as je,za as zt}from"./chunk-WIB2HRM2.mjs";import{a as le,b as pe}from"./chunk-NDYDZJSS.mjs";var oi=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(u(je),u(ke))},e.\u0275dir=te({type:e});let i=e;return i})(),mt=(()=>{let e=class e extends oi{};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ve(e)))(a||e)}})(),e.\u0275dir=te({type:e,features:[ce]});let i=e;return i})(),ze=new Fe("");var mn={provide:ze,useExisting:Me(()=>O),multi:!0};function un(){let i=It()?It().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var pn=new Fe(""),O=(()=>{let e=class e extends oi{constructor(t,n,a){super(t,n),this._compositionMode=a,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!un())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(u(je),u(ke),u(pn,8))},e.\u0275dir=te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,a){n&1&&V("input",function(_){return a._handleInput(_.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(_){return a._compositionEnd(_.target.value)})},features:[Ee([mn]),ce]});let i=e;return i})();function ai(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}var ut=new Fe(""),si=new Fe(""),hn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function fn(i){return ai(i.value)?{required:!0}:null}function gn(i){return ai(i.value)||hn.test(i.value)?null:{email:!0}}function Xt(i){return null}function li(i){return i!=null}function ci(i){return Ot(i)?Nt(i):i}function di(i){let e={};return i.forEach(r=>{e=r!=null?le(le({},e),r):e}),Object.keys(e).length===0?null:e}function mi(i,e){return e.map(r=>r(i))}function vn(i){return!i.validate}function ui(i){return i.map(e=>vn(e)?e:r=>e.validate(r))}function _n(i){if(!i)return null;let e=i.filter(li);return e.length==0?null:function(r){return di(mi(r,e))}}function xt(i){return i!=null?_n(ui(i)):null}function Cn(i){if(!i)return null;let e=i.filter(li);return e.length==0?null:function(r){let t=mi(r,e).map(ci);return Tt(t).pipe(Lt(di))}}function wt(i){return i!=null?Cn(ui(i)):null}function Yt(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function yn(i){return i._rawValidators}function bn(i){return i._rawAsyncValidators}function St(i){return i?Array.isArray(i)?i:[i]:[]}function ot(i,e){return Array.isArray(i)?i.includes(e):i===e}function Jt(i,e){let r=St(e);return St(i).forEach(n=>{ot(r,n)||r.push(n)}),r}function Qt(i,e){return St(e).filter(r=>!ot(i,r))}var at=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},Ne=class extends at{get formDirective(){return null}get path(){return null}},He=class extends at{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},st=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Mn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ca=pe(le({},Mn),{"[class.ng-submitted]":"isSubmitted"}),G=(()=>{let e=class e extends st{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(u(He,2))},e.\u0275dir=te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,a){n&2&&bt("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[ce]});let i=e;return i})(),q=(()=>{let e=class e extends st{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(u(Ne,10))},e.\u0275dir=te({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,a){n&2&&bt("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},features:[ce]});let i=e;return i})();var Ue="VALID",rt="INVALID",Pe="PENDING",We="DISABLED",Le=class{},lt=class extends Le{constructor(e,r){super(),this.value=e,this.source=r}},Ge=class extends Le{constructor(e,r){super(),this.pristine=e,this.source=r}},qe=class extends Le{constructor(e,r){super(),this.touched=e,this.source=r}},Ae=class extends Le{constructor(e,r){super(),this.status=e,this.source=r}};function pi(i){return(pt(i)?i.validators:i)||null}function En(i){return Array.isArray(i)?xt(i):i||null}function hi(i,e){return(pt(e)?e.asyncValidators:i)||null}function In(i){return Array.isArray(i)?wt(i):i||null}function pt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Sn(i,e,r){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new et(1e3,"");if(!t[r])throw new et(1001,"")}function xn(i,e,r){i._forEachChild((t,n)=>{if(r[n]===void 0)throw new et(1002,"")})}var ct=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new At,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ue}get invalid(){return this.status===rt}get pending(){return this.status==Pe}get disabled(){return this.status===We}get enabled(){return this.status!==We}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jt(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jt(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qt(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qt(e,this._rawAsyncValidators))}hasValidator(e){return ot(this._rawValidators,e)}hasAsyncValidator(e){return ot(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(le({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new qe(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),r&&e.emitEvent!==!1&&this._events.next(new qe(!1,t))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(le({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new Ge(!1,t))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&e.emitEvent!==!1&&this._events.next(new Ge(!0,t))}markAsPending(e={}){this.status=Pe;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ae(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(le({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=We,this.errors=null,this._forEachChild(n=>{n.disable(pe(le({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lt(this.value,t)),this._events.next(new Ae(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(le({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Ue,this._forEachChild(t=>{t.enable(pe(le({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(le({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ue||this.status===Pe)&&this._runAsyncValidator(t,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lt(this.value,r)),this._events.next(new Ae(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(le({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?We:Ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=Pe,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let t=ci(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,n)=>t&&t._find(n),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new Ae(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,t)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?We:this.errors?rt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pe)?Pe:this._anyControlsHaveStatus(rt)?rt:Ue}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let t=!this._anyControlsDirty(),n=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&this._events.next(new Ge(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new qe(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=En(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}},dt=class extends ct{constructor(e,r,t){super(pi(r),hi(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,t={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){xn(this,!0,e),Object.keys(e).forEach(t=>{Sn(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,t)=>(e[t]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&e(t,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,t,n)=>((t.enabled||this.disabled)&&(r[n]=t.value),r))}_reduceChildren(e,r){let t=e;return this._forEachChild((n,a)=>{t=r(t,n,a)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vt=new Fe("CallSetDisabledState",{providedIn:"root",factory:()=>Ft}),Ft="always";function wn(i,e){return[...e.path,i]}function fi(i,e,r=Ft){gi(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Fn(i,e),Pn(i,e),Dn(i,e),Vn(i,e)}function ei(i,e){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Vn(i,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(r),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}function gi(i,e){let r=yn(i);e.validator!==null?i.setValidators(Yt(r,e.validator)):typeof r=="function"&&i.setValidators([r]);let t=bn(i);e.asyncValidator!==null?i.setAsyncValidators(Yt(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();ei(e._rawValidators,n),ei(e._rawAsyncValidators,n)}function Fn(i,e){e.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&vi(i,e)})}function Dn(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&vi(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function vi(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Pn(i,e){let r=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(r),e._registerOnDestroy(()=>{i._unregisterOnChange(r)})}function An(i,e){i==null,gi(i,e)}function Nn(i,e){if(!i.hasOwnProperty("model"))return!1;let r=i.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function Ln(i){return Object.getPrototypeOf(i.constructor)===mt}function Tn(i,e){i._syncPendingControls(),e.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Rn(i,e){if(!e)return null;Array.isArray(e);let r,t,n;return e.forEach(a=>{a.constructor===O?r=a:Ln(a)?t=a:n=a}),n||t||r||null}var kn={provide:Ne,useExisting:Me(()=>U)},Be=Promise.resolve(),U=(()=>{let e=class e extends Ne{constructor(t,n,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Oe,this.form=new dt({},xt(t),wt(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Be.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),fi(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Be.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Be.then(()=>{let n=this._findContainer(t.path),a=new dt({});An(a,t),n.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Be.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Be.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Tn(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(u(ut,10),u(si,10),u(Vt,8))},e.\u0275dir=te({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,a){n&1&&V("submit",function(_){return a.onSubmit(_)})("reset",function(){return a.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ee([kn]),ce]});let i=e;return i})();function ti(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}function ii(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var On=class extends ct{constructor(e=null,r,t){super(pi(r),hi(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pt(r)&&(r.nonNullable||r.initialValueIsDefault)&&(ii(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ti(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ti(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ii(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jn={provide:He,useExisting:Me(()=>W)},ni=Promise.resolve(),W=(()=>{let e=class e extends He{constructor(t,n,a,h,_,d){super(),this._changeDetectorRef=_,this.callSetDisabledState=d,this.control=new On,this._registered=!1,this.name="",this.update=new Oe,this._parent=t,this._setValidators(n),this._setAsyncValidators(a),this.valueAccessor=Rn(this,h)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Nn(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){fi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ni.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,a=n!==0&&tt(n);ni.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?wn(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(u(Ne,9),u(ut,10),u(si,10),u(ze,10),u(Ut,8),u(Vt,8))},e.\u0275dir=te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ee([jn]),ce,yt]});let i=e;return i})(),H=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=te({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),Un={provide:ze,useExisting:Me(()=>ae),multi:!0},ae=(()=>{let e=class e extends mt{writeValue(t){let n=t??"";this.setProperty("value",n)}registerOnChange(t){this.onChange=n=>{t(n==""?null:parseFloat(n))}}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ve(e)))(a||e)}})(),e.\u0275dir=te({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,a){n&1&&V("input",function(_){return a.onChange(_.target.value)})("blur",function(){return a.onTouched()})},features:[Ee([Un]),ce]});let i=e;return i})();var Wn={provide:ze,useExisting:Me(()=>de),multi:!0};function _i(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Bn(i){return i.split(":")[0]}var de=(()=>{let e=class e extends mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n=this._getOptionId(t),a=_i(n,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){let n=Bn(t);return this._optionMap.has(n)?this._optionMap.get(n):t}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ve(e)))(a||e)}})(),e.\u0275dir=te({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,a){n&1&&V("change",function(_){return a.onChange(_.target.value)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ee([Wn]),ce]});let i=e;return i})(),fe=(()=>{let e=class e{constructor(t,n,a){this._element=t,this._renderer=n,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(_i(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(u(ke),u(je),u(de,9))},e.\u0275dir=te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),Gn={provide:ze,useExisting:Me(()=>Ci),multi:!0};function ri(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function qn(i){return i.split(":")[0]}var Ci=(()=>{let e=class e extends mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n;if(Array.isArray(t)){let a=t.map(h=>this._getOptionId(h));n=(h,_)=>{h._setSelected(a.indexOf(_.toString())>-1)}}else n=(a,h)=>{a._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{let a=[],h=n.selectedOptions;if(h!==void 0){let _=h;for(let d=0;d<_.length;d++){let Qe=_[d],gt=this._getOptionValue(Qe.value);a.push(gt)}}else{let _=n.options;for(let d=0;d<_.length;d++){let Qe=_[d];if(Qe.selected){let gt=this._getOptionValue(Qe.value);a.push(gt)}}}this.value=a,t(a)}}_registerOption(t){let n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){let n=qn(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ve(e)))(a||e)}})(),e.\u0275dir=te({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,a){n&1&&V("change",function(_){return a.onChange(_.target)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ee([Gn]),ce]});let i=e;return i})(),ge=(()=>{let e=class e{constructor(t,n,a){this._element=t,this._renderer=n,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ri(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ri(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(u(ke),u(je),u(Ci,9))},e.\u0275dir=te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();var yi=(()=>{let e=class e{constructor(){this._validator=Xt}ngOnChanges(t){if(this.inputName in t){let n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Xt,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=te({type:e,features:[yt]});let i=e;return i})();var Hn={provide:ut,useExisting:Me(()=>B),multi:!0};var B=(()=>{let e=class e extends yi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=tt,this.createValidator=t=>fn}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ve(e)))(a||e)}})(),e.\u0275dir=te({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,a){n&2&&kt("required",a._enabled?"":null)},inputs:{required:"required"},features:[Ee([Hn]),ce]});let i=e;return i})();var zn={provide:ut,useExisting:Me(()=>Ke),multi:!0},Ke=(()=>{let e=class e extends yi{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=tt,this.createValidator=t=>gn}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(a){return(t||(t=Ve(e)))(a||e)}})(),e.\u0275dir=te({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ee([zn]),ce]});let i=e;return i})();var Kn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=vt({});let i=e;return i})();var j=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Vt,useValue:t.callSetDisabledState??Ft}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=vt({imports:[Kn]});let i=e;return i})();var ee={production:!1,apiUrl:"http://localhost:8080/Sala"};var ht=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/login`}login(t){let n=new J({"Content-Type":"application/json"});return this.http.post(this.apiURL,t,{headers:n}).pipe(K(this.handleError))}IsLogin(){return!!(typeof localStorage<"u"&&localStorage.getItem("token"))}handleError(t){return console.error(t),ie(t)}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Zn(i,e){i&1&&(Mt(0),s(1,"li",12)(2,"a",13),l(3,"Familias Productoras"),o()(),s(4,"li",12)(5,"a",14),l(6,"Insumos"),o()(),s(7,"li",12)(8,"a",15),l(9,"Lotes"),o()(),s(10,"li",12)(11,"a",16),l(12,"Productos"),o()(),s(13,"li",12)(14,"a",17),l(15,"Recetas"),o()(),s(16,"li",12)(17,"a",18),l(18,"Canales"),o()(),s(19,"li",12)(20,"a",19),l(21,"Materias Primas"),o()(),s(22,"li",12)(23,"a",20),se(24,"span",21),l(25," Usuarios"),o()(),Et())}function Xn(i,e){i&1&&(s(0,"li",12)(1,"a",22),se(2,"span",21),l(3," Registrarse"),o()())}function Yn(i,e){if(i&1){let r=D();Mt(0),s(1,"li",12)(2,"a",23),V("click",function(){f(r);let n=p();return g(n.logout())}),l(3,"Logout"),o()(),Et()}}function Jn(i,e){i&1&&(s(0,"ul",24)(1,"li",12)(2,"a",25),se(3,"span",26),l(4," Login"),o()()())}var bi=(()=>{let e=class e{constructor(t){this.router=t,this.auth=_t(ht)}ngOnInit(){this.auth}logout(){localStorage.getItem("token")&&(localStorage.removeItem("token"),this.router.navigate(["/login"]))}};e.\u0275fac=function(n){return new(n||e)(u(P))},e.\u0275cmp=y({type:e,selectors:[["app-navbar"]],standalone:!0,features:[b],decls:14,vars:4,consts:[["loginLink",""],["rel","stylesheet","href",Rt`https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css`],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"navbar-nav","navbar-right"],[4,"ngIf","ngIfElse"],[1,"nav-item"],["routerLink","/familias",1,"nav-link"],["routerLink","/insumos",1,"nav-link"],["routerLink","/lotes",1,"nav-link"],["routerLink","/productos",1,"nav-link"],["routerLink","/recetas",1,"nav-link"],["routerLink","/canales",1,"nav-link"],["routerLink","/materiasPrimas",1,"nav-link"],["routerLink","/users",1,"nav-link"],[1,"glyphicon","glyphicon-user"],["routerLink","/register",1,"nav-link"],[1,"nav-link","btn","btn-outline-danger","ml-2",3,"click"],[1,"navbar-nav","ml-auto"],["routerLink","/login",1,"nav-link","btn","btn-outline-primary","ml-2"],[1,"glyphicon","glyphicon-log-in"]],template:function(n,a){if(n&1&&(se(0,"link",1),s(1,"nav",2)(2,"a",3),l(3,"Sala Comunitaria"),o(),s(4,"button",4),se(5,"span",5),o(),s(6,"div",6)(7,"ul",7),v(8,Zn,26,0,"ng-container",8)(9,Xn,4,0,"li",9),o(),s(10,"ul",10),v(11,Yn,4,0,"ng-container",11),o()(),v(12,Jn,5,0,"ng-template",null,0,Se),o()),n&2){let h=N(13);c(8),m("ngIf",a.auth.IsLogin()),c(),m("ngIf",!a.auth.IsLogin()),c(2),m("ngIf",a.auth.IsLogin())("ngIfElse",h)}},dependencies:[$,Z,j,M,E],encapsulation:2});let i=e;return i})();var Mi=(()=>{let e=class e{constructor(){this.title="SalaApp"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=y({type:e,selectors:[["app-root"]],standalone:!0,features:[b],decls:2,vars:0,template:function(n,a){n&1&&se(0,"app-navbar")(1,"router-outlet")},dependencies:[$t,bi]});let i=e;return i})();var ve=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/users`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}createUser(t){let n=new J({"Content-Type":"application/json"});return this.http.post(this.apiURL,t,{headers:n}).pipe(K(this.handleError))}getUser(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}getUsers(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}updateUser(t,n){return this.http.put(`${this.apiURL}/${n}`,t,{headers:this.headers}).pipe(K(this.handleError))}deleteUser(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers}).pipe(K(this.handleError))}handleError(t){return console.error("An error occurred",t.message),ie(t)}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Qn(i,e){if(i&1&&(s(0,"div",16)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function er(i,e){if(i&1&&(s(0,"div",17)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Ei=(()=>{let e=class e{constructor(t,n){this.userService=t,this.router=n,this.user={email:"",nombre:"",apellido:"",password:""},this.errorMessage="",this.successMessage=""}register(t){t.valid?this.userService.createUser(this.user).subscribe(n=>{console.log("Usuario creado",n),this.successMessage="Usuario creado con exito",this.router.navigate(["/users"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(ve),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-register"]],standalone:!0,features:[b],decls:26,vars:6,consts:[["registerForm","ngForm"],[1,"container","mt-3"],[1,"card",3,"ngSubmit"],[1,"card-body"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","ngModel","","email","","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","apellido",1,"form-label"],["type","text","id","apellido","name","apellido","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Registrar Usuario"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.register(d))}),s(5,"div",3)(6,"div",4)(7,"label",5),l(8,"Email:"),o(),s(9,"input",6),x("ngModelChange",function(d){return f(h),S(a.user.email,d)||(a.user.email=d),g(d)}),o()(),s(10,"div",4)(11,"label",7),l(12,"Nombre:"),o(),s(13,"input",8),x("ngModelChange",function(d){return f(h),S(a.user.nombre,d)||(a.user.nombre=d),g(d)}),o()(),s(14,"div",4)(15,"label",9),l(16,"Apellido:"),o(),s(17,"input",10),x("ngModelChange",function(d){return f(h),S(a.user.apellido,d)||(a.user.apellido=d),g(d)}),o()(),s(18,"div",4)(19,"label",11),l(20,"Password:"),o(),s(21,"input",12),x("ngModelChange",function(d){return f(h),S(a.user.password,d)||(a.user.password=d),g(d)}),o()(),s(22,"button",13),l(23,"Registrar"),o()()(),v(24,Qn,3,1,"div",14)(25,er,3,1,"div",15),o()}n&2&&(c(9),I("ngModel",a.user.email),c(4),I("ngModel",a.user.nombre),c(4),I("ngModel",a.user.apellido),c(4),I("ngModel",a.user.password),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,Ke,W,U,M,E],encapsulation:2});let i=e;return i})();function tr(i,e){if(i&1&&(s(0,"div",3)(1,"h2",4),l(2,"Detalles del Usuario"),o(),s(3,"div",5)(4,"p",6)(5,"strong"),l(6,"Email:"),o(),l(7),o(),s(8,"p",6)(9,"strong"),l(10,"Nombre:"),o(),l(11),o(),s(12,"p",6)(13,"strong"),l(14,"Apellido:"),o(),l(15),o()()()),i&2){let r=p();c(7),w(" ",r.user.email,""),c(4),w(" ",r.user.nombre,""),c(4),w(" ",r.user.apellido,"")}}function ir(i,e){if(i&1&&(s(0,"div",7),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}var Ii=(()=>{let e=class e{constructor(t,n){this.route=t,this.userService=n,this.errorMessage=""}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.userService.getUser(t).subscribe(n=>{this.user=n},n=>{console.error("Error: ",n),this.errorMessage=n.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(F),u(ve))},e.\u0275cmp=y({type:e,selectors:[["app-user-detail"]],standalone:!0,features:[b],decls:3,vars:2,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[1,"alert","alert-danger","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,tr,16,3,"div",1)(2,ir,2,1,"div",2),o()),n&2&&(c(),m("ngIf",a.user),c(),m("ngIf",a.errorMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();function nr(i,e){if(i&1&&(s(0,"div",16)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function rr(i,e){if(i&1&&(s(0,"div",17)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Si=(()=>{let e=class e{constructor(t,n,a){this.userService=t,this.route=n,this.router=a,this.user={email:"",nombre:"",apellido:"",password:""},this.errorMessage="",this.successMessage="",this.userId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.userId=+t.id,this.loadUser(this.userId))})}loadUser(t){this.userService.getUser(t).subscribe(n=>{this.user={email:n.email,nombre:n.nombre,apellido:n.apellido,password:n.password}},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el usuario"})}saveUser(t){t.valid&&this.userId!==null?this.userService.updateUser(this.user,this.userId).subscribe(n=>{console.log("Usuario actualizado",n),this.successMessage="Usuario actualizado con \xE9xito",this.router.navigate(["/users"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(ve),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-edit-user"]],standalone:!0,features:[b],decls:26,vars:6,consts:[["editForm","ngForm"],[1,"container","mt-3"],[1,"card",3,"ngSubmit"],[1,"card-body"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","ngModel","","email","","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","apellido",1,"form-label"],["type","text","id","apellido","name","apellido","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Editar Usuario"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.saveUser(d))}),s(5,"div",3)(6,"div",4)(7,"label",5),l(8,"Email:"),o(),s(9,"input",6),x("ngModelChange",function(d){return f(h),S(a.user.email,d)||(a.user.email=d),g(d)}),o()(),s(10,"div",4)(11,"label",7),l(12,"Nombre:"),o(),s(13,"input",8),x("ngModelChange",function(d){return f(h),S(a.user.nombre,d)||(a.user.nombre=d),g(d)}),o()(),s(14,"div",4)(15,"label",9),l(16,"Apellido:"),o(),s(17,"input",10),x("ngModelChange",function(d){return f(h),S(a.user.apellido,d)||(a.user.apellido=d),g(d)}),o()(),s(18,"div",4)(19,"label",11),l(20,"Password:"),o(),s(21,"input",12),x("ngModelChange",function(d){return f(h),S(a.user.password,d)||(a.user.password=d),g(d)}),o()(),s(22,"button",13),l(23,"Guardar Cambios"),o()()(),v(24,nr,3,1,"div",14)(25,rr,3,1,"div",15),o()}n&2&&(c(9),I("ngModel",a.user.email),c(4),I("ngModel",a.user.nombre),c(4),I("ngModel",a.user.apellido),c(4),I("ngModel",a.user.password),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,Ke,W,U,M,E],encapsulation:2});let i=e;return i})();function or(i,e){if(i&1){let r=D();s(0,"div",4)(1,"div",5)(2,"h2",6),l(3,"Eliminar Usuario"),o()(),s(4,"div",7)(5,"p",8),l(6),o(),s(7,"button",9),V("click",function(){f(r);let n=p();return g(n.deleteUser())}),l(8,"Eliminar"),o()()()}if(i&2){let r=p();c(6),De("\xBFEst\xE1s seguro de que deseas eliminar al usuario ",r.user.nombre," ",r.user.apellido,"?")}}function ar(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function sr(i,e){if(i&1&&(s(0,"div",11)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var xi=(()=>{let e=class e{constructor(t,n,a){this.userService=t,this.route=n,this.router=a,this.user={email:"",nombre:"",apellido:"",password:""},this.errorMessage="",this.successMessage="",this.userId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.userId=+t.id,this.loadUser(this.userId))})}loadUser(t){this.userService.getUser(t).subscribe(n=>{this.user=n},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el usuario"})}deleteUser(){this.userId!==null?this.userService.deleteUser(this.userId).subscribe(()=>{this.successMessage="Usuario eliminado con \xE9xito",setTimeout(()=>{this.router.navigate(["/"])},2e3)},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de usuario no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(ve),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-delete-user"]],standalone:!0,features:[b],decls:4,vars:3,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,or,9,2,"div",1)(2,ar,3,1,"div",2)(3,sr,3,1,"div",3),o()),n&2&&(c(),m("ngIf",a.user),c(),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();function lr(i,e){if(i&1&&(s(0,"div",6),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage,`
`)}}function cr(i,e){if(i&1&&(s(0,"li",9)(1,"span"),l(2),o(),s(3,"div")(4,"a",10),l(5,"Ver Detalles"),o(),s(6,"a",11),l(7,"Editar"),o(),s(8,"a",12),l(9,"Eliminar"),o()()()),i&2){let r=e.$implicit;c(2),De("",r.nombre," ",r.apellido,""),c(2),T("routerLink","/user/",r.id,""),c(2),T("routerLink","/edit-user/",r.id,""),c(2),T("routerLink","/delete-user/",r.id,"")}}function dr(i,e){if(i&1&&(s(0,"ul",7),v(1,cr,10,8,"li",8),o()),i&2){let r=p();c(),m("ngForOf",r.users)}}function mr(i,e){if(i&1&&(s(0,"div",13),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}var wi=(()=>{let e=class e{constructor(t,n){this.userService=t,this.route=n,this.users=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.userService.getUsers().subscribe(t=>{this.users=t},t=>{console.error("Error: ",t),this.errorMessage=t.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(ve),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-user-list"]],standalone:!0,features:[b],decls:7,vars:3,consts:[["class","alert alert-danger",4,"ngIf"],[1,"container","mt-3"],[1,"d-flex","justify-content-between","align-items-center"],["routerLink","/register",1,"btn","btn-primary","mb-2"],["class","list-group",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-info","btn-sm","me-1",3,"routerLink"],[1,"btn","btn-warning","btn-sm","me-1",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(v(0,lr,2,1,"div",0),s(1,"div",1)(2,"div",2)(3,"a",3),l(4,"Registrar Nuevo Usuario"),o()(),v(5,dr,2,1,"ul",4)(6,mr,2,1,"div",5),o()),n&2&&(m("ngIf",a.errorMessage),c(5),m("ngIf",a.users.length),c(),m("ngIf",a.successMessage))},dependencies:[M,z,E,$,Z],encapsulation:2});let i=e;return i})();var me=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/familias_productoras`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}createFamiliaProductora(t){return this.http.post(this.apiURL,t,{headers:this.headers}).pipe(K(this.handleError))}getFamiliaProductora(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}getFamiliasProductoras(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}updateFamiliaProductora(t){return this.http.put(this.apiURL,t,{headers:this.headers}).pipe(K(this.handleError))}deleteFamiliaProductora(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers}).pipe(K(this.handleError))}handleError(t){return console.error("An error occurred",t.message),ie(t)}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ur(i,e){if(i&1&&(s(0,"div",5),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}function pr(i,e){if(i&1&&(s(0,"li",8)(1,"div")(2,"strong"),l(3,"Familia Productora:"),o(),l(4),s(5,"strong"),l(6,"Zona:"),o(),l(7),s(8,"strong"),l(9,"Fecha de inicio:"),o(),l(10),ne(11,"date"),o(),s(12,"div")(13,"a",9),l(14,"Editar"),o(),s(15,"a",10),l(16,"Eliminar"),o()()()),i&2){let r=e.$implicit;c(4),w(" ",r.nombre," - "),c(3),w(" ",r.zona," - "),c(3),w(" ",re(11,7,r.fechaInicio)," "),c(3),T("routerLink","/edit-familia/",r.id,""),c(2),T("routerLink","/delete-familia/",r.id,"")}}function hr(i,e){if(i&1&&(s(0,"ul",6),v(1,pr,17,9,"li",7),o()),i&2){let r=p();c(),m("ngForOf",r.familias)}}function fr(i,e){if(i&1&&(s(0,"div",11),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}var Vi=(()=>{let e=class e{constructor(t,n){this.familiaService=t,this.route=n,this.familias=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.familiaService.getFamiliasProductoras().subscribe(t=>{this.familias=t},t=>{console.error("Error: ",t),this.errorMessage=t.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(me),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-familia-list"]],standalone:!0,features:[b],decls:6,vars:3,consts:[[1,"container","mt-3"],["class","alert alert-danger",4,"ngIf"],["routerLink","/registerFamilia",1,"btn","btn-primary","mb-2"],["class","list-group",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-info","btn-sm","me-1",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,ur,2,1,"div",1),s(2,"a",2),l(3,"Registrar Nueva Familia Productora"),o(),v(4,hr,2,1,"ul",3)(5,fr,2,1,"div",4),o()),n&2&&(c(),m("ngIf",a.errorMessage),c(3),m("ngIf",a.familias.length),c(),m("ngIf",a.successMessage))},dependencies:[M,z,E,he,$,Z],encapsulation:2});let i=e;return i})();function gr(i,e){if(i&1&&(s(0,"div",13)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function vr(i,e){if(i&1&&(s(0,"div",14)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Fi=(()=>{let e=class e{constructor(t,n){this.familiaService=t,this.router=n,this.familia={id:0,nombre:"",fechaInicio:"",zona:""},this.errorMessage="",this.successMessage=""}register(t){t.valid?(console.log(this.familia.id+" "+this.familia.fechaInicio),this.familiaService.createFamiliaProductora(this.familia).subscribe(n=>{console.log("Familia Productora creada",n),this.successMessage="Familia Productora creada con exito",this.router.navigate(["/familias"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message})):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(me),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-registerFamilia"]],standalone:!0,features:[b],decls:21,vars:5,consts:[["registerForm","ngForm"],[1,"container","mt-5"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","zona"],["type","text","id","zona","name","zona","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Registrar Familia Productora"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.register(d))}),s(5,"div",3)(6,"label",4),l(7,"Nombre:"),o(),s(8,"input",5),x("ngModelChange",function(d){return f(h),S(a.familia.nombre,d)||(a.familia.nombre=d),g(d)}),o()(),s(9,"div",3)(10,"label",6),l(11,"Fecha de inicio:"),o(),s(12,"input",7),x("ngModelChange",function(d){return f(h),S(a.familia.fechaInicio,d)||(a.familia.fechaInicio=d),g(d)}),o()(),s(13,"div",3)(14,"label",8),l(15,"Zona:"),o(),s(16,"input",9),x("ngModelChange",function(d){return f(h),S(a.familia.zona,d)||(a.familia.zona=d),g(d)}),o()(),s(17,"button",10),l(18,"Registrar"),o()(),v(19,gr,3,1,"div",11)(20,vr,3,1,"div",12),o()}n&2&&(c(8),I("ngModel",a.familia.nombre),c(4),I("ngModel",a.familia.fechaInicio),c(4),I("ngModel",a.familia.zona),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();function _r(i,e){if(i&1&&(s(0,"div",13)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Cr(i,e){if(i&1&&(s(0,"div",14)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Di=(()=>{let e=class e{constructor(t,n,a){this.familiaProductoraService=t,this.route=n,this.router=a,this.familia={id:0,nombre:"",fechaInicio:"",zona:""},this.errorMessage="",this.successMessage="",this.familiaId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.familiaId=+t.id,this.loadFamiliaProductora(this.familiaId))})}loadFamiliaProductora(t){this.familiaProductoraService.getFamiliaProductora(t).subscribe(n=>{this.familia={id:n.id,nombre:n.nombre,fechaInicio:n.fechaInicio,zona:n.zona}},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar la familia productora"})}saveFamilia(t){t.valid&&this.familiaId!==null?this.familiaProductoraService.updateFamiliaProductora(this.familia).subscribe(n=>{console.log("Familia Productora actualizada",n),this.successMessage="Familia Productora actualizada con \xE9xito",this.router.navigate(["/familias"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(me),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-edit-familia"]],standalone:!0,features:[b],decls:21,vars:5,consts:[["editForm","ngForm"],[1,"container","mt-5"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaInicio"],["type","date","id","fechaInicio","name","fechaInicio","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","zona"],["type","text","id","zona","name","zona",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Editar Familia Productora"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.saveFamilia(d))}),s(5,"div",3)(6,"label",4),l(7,"Nombre:"),o(),s(8,"input",5),x("ngModelChange",function(d){return f(h),S(a.familia.nombre,d)||(a.familia.nombre=d),g(d)}),o()(),s(9,"div",3)(10,"label",6),l(11,"Fecha de inicio:"),o(),s(12,"input",7),x("ngModelChange",function(d){return f(h),S(a.familia.fechaInicio,d)||(a.familia.fechaInicio=d),g(d)}),o()(),s(13,"div",3)(14,"label",8),l(15,"Zona:"),o(),s(16,"input",9),x("ngModelChange",function(d){return f(h),S(a.familia.zona,d)||(a.familia.zona=d),g(d)}),o()(),s(17,"button",10),l(18,"Guardar Cambios"),o()(),v(19,_r,3,1,"div",11)(20,Cr,3,1,"div",12),o()}n&2&&(c(8),I("ngModel",a.familia.nombre),c(4),I("ngModel",a.familia.fechaInicio),c(4),I("ngModel",a.familia.zona),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();function yr(i,e){if(i&1){let r=D();s(0,"div",4)(1,"div",5)(2,"h2",6),l(3,"Eliminar Familia Productora"),o()(),s(4,"div",7)(5,"p",8),l(6),o(),s(7,"button",9),V("click",function(){f(r);let n=p();return g(n.deleteFamilia())}),l(8,"Eliminar"),o()()()}if(i&2){let r=p();c(6),w("\xBFEst\xE1s seguro de que deseas eliminar a la familia productora: ",r.familia.nombre,"?")}}function br(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Mr(i,e){if(i&1&&(s(0,"div",11)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Pi=(()=>{let e=class e{constructor(t,n,a){this.familiaProductoraService=t,this.route=n,this.router=a,this.familia={id:0,nombre:"",fechaInicio:"",zona:""},this.errorMessage="",this.successMessage="",this.familiaId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.familiaId=+t.id,this.loadFamiliaProductora(this.familiaId))})}loadFamiliaProductora(t){this.familiaProductoraService.getFamiliaProductora(t).subscribe(n=>{this.familia=n},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar la familia productora"})}deleteFamilia(){this.familiaId!==null?this.familiaProductoraService.deleteFamiliaProductora(this.familiaId).subscribe(()=>{this.successMessage="Familia Productora eliminada con \xE9xito",this.router.navigate(["/familias"],{queryParams:{message:this.successMessage}})},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de familia no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(me),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-delete-familia"]],standalone:!0,features:[b],decls:4,vars:3,consts:[[1,"container","mt-5"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,yr,9,1,"div",1)(2,br,3,1,"div",2)(3,Mr,3,1,"div",3),o()),n&2&&(c(),m("ngIf",a.familia),c(),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();var we=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/lotes`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}getLotes(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}createLote(t){return this.http.post(this.apiURL,t,{headers:this.headers})}getLote(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}deleteLote(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers})}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Dt=i=>({active:i});function Er(i,e){if(i&1&&(s(0,"div",8),l(1),o()),i&2){let r=p();c(),C(r.errorMessage)}}function Ir(i,e){if(i&1&&(s(0,"li",11),l(1),s(2,"a",12),l(3,"Ver Lote"),o()()),i&2){let r=e.$implicit;c(),De(" ",r.codigo," - ",r.nombre," "),c(),T("routerLink","/lote/",r.id,"")}}function Sr(i,e){if(i&1&&(s(0,"ul",9),v(1,Ir,4,4,"li",10),o()),i&2){let r=p();c(),m("ngForOf",r.filteredLotes)}}function xr(i,e){i&1&&(s(0,"div",13),l(1," No se encontraron lotes. "),o())}function wr(i,e){if(i&1&&(s(0,"div",14),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}var Ai=(()=>{let e=class e{constructor(t,n){this.loteService=t,this.route=n,this.lotes=[],this.filteredLotes=[],this.filterOption="active",this.errorMessage="",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.loteService.getLotes().subscribe(t=>{this.lotes=t,console.log(this.lotes),this.filterLotes()},t=>{console.error("Error: ",t),this.errorMessage="Error al cargar los lotes."})}filterLotes(){this.filterOption==="active"?this.filteredLotes=this.lotes.filter(t=>t.activo):this.filterOption==="inactive"?this.filteredLotes=this.lotes.filter(t=>!t.activo):this.filteredLotes=this.lotes,console.log("Lotes filtrados: "+this.filteredLotes)}toggleFilter(t){this.filterOption=t,this.filterLotes()}};e.\u0275fac=function(n){return new(n||e)(u(we),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-lote-list"]],standalone:!0,features:[b],decls:14,vars:13,consts:[["role","group","aria-label","Filtro de lotes",1,"btn-group"],[1,"btn","btn-outline-primary",3,"click","ngClass"],[1,"container","mt-3"],["class","alert alert-danger",4,"ngIf"],["routerLink","/agregarLote",1,"btn","btn-primary","mb-2"],["class","list-group",4,"ngIf"],["class","alert alert-warning mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-info","btn-sm",3,"routerLink"],[1,"alert","alert-warning","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0)(1,"button",1),V("click",function(){return a.toggleFilter("active")}),l(2,"Mostrar Activos"),o(),s(3,"button",1),V("click",function(){return a.toggleFilter("inactive")}),l(4,"Mostrar No Activos"),o(),s(5,"button",1),V("click",function(){return a.toggleFilter("all")}),l(6,"Mostrar Todos"),o()(),s(7,"div",2),v(8,Er,2,1,"div",3),s(9,"a",4),l(10,"Registrar Nuevo Lote"),o(),v(11,Sr,2,1,"ul",5)(12,xr,2,0,"div",6)(13,wr,2,1,"div",7),o()),n&2&&(c(),m("ngClass",Ie(7,Dt,a.filterOption==="active")),c(2),m("ngClass",Ie(9,Dt,a.filterOption==="inactive")),c(2),m("ngClass",Ie(11,Dt,a.filterOption==="all")),c(3),m("ngIf",a.errorMessage),c(3),m("ngIf",a.filteredLotes.length),c(),m("ngIf",!a.filteredLotes.length&&!a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[M,it,z,E,$,Z],encapsulation:2});let i=e;return i})();var _e=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/productos`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}createProduct(t,n){return this.http.post(`${this.apiURL}/${t}`,n,{headers:this.headers}).pipe(K(this.handleError))}deleteProducto(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers}).pipe(K(this.handleError))}getProducto(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}getProductos(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}handleError(t){return console.error("An error occurred",t.message),ie(t)}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ce=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/insumos`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}createInsumo(t){return this.http.post(this.apiURL,t,{headers:this.headers}).pipe(K(this.handleError))}getInsumo(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}getInsumos(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}updateInsumo(t){return this.http.put(this.apiURL,t,{headers:this.headers}).pipe(K(this.handleError))}deleteInsumo(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers}).pipe(K(this.handleError))}handleError(t){return console.error("An error occurred",t.message),ie(t)}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Vr(i,e){if(i&1&&(s(0,"option",27),l(1),o()),i&2){let r=e.$implicit;m("value",r.id),c(),C(r.nombre)}}function Fr(i,e){if(i&1){let r=D();s(0,"div",4)(1,"label",21),l(2,"Insumo:"),o(),s(3,"select",22),x("ngModelChange",function(n){let a=f(r).$implicit;return S(a.insumo,n)||(a.insumo=n),g(n)}),v(4,Vr,2,2,"option",23),o(),s(5,"label",24),l(6,"Cantidad:"),o(),s(7,"input",25),x("ngModelChange",function(n){let a=f(r).$implicit;return S(a.cantidad,n)||(a.cantidad=n),g(n)}),o(),s(8,"button",26),V("click",function(){let n=f(r).index,a=p();return g(a.eliminarItemDeInsumo(n))}),l(9,"Eliminar"),o()()}if(i&2){let r=e.$implicit,t=e.index,n=p();c(3),T("name","insumoId-",t,""),I("ngModel",r.insumo),c(),m("ngForOf",n.insumos),c(3),T("name","cantidad-",t,""),I("ngModel",r.cantidad)}}function Dr(i,e){if(i&1&&(s(0,"div",28)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Pr(i,e){if(i&1&&(s(0,"div",29)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Ni=(()=>{let e=class e{constructor(t,n,a,h){this.productoService=t,this.insumoService=n,this.route=a,this.router=h,this.producto={nombre:"",fechaEnvasado:"",fechaVencimiento:"",precioVenta:0,cantidadProductos:0,insumos:[]},this.insumos=[],this.errorMessage="",this.successMessage="",this.loteId=null}ngOnInit(){this.loteId=this.route.snapshot.paramMap.get("id"),this.insumoService.getInsumos().subscribe(t=>{this.insumos=t},t=>{console.error("Error al obtener los insumos:",t)})}agregarItemDeInsumo(){this.producto.insumos.push({insumo:0,cantidad:0})}eliminarItemDeInsumo(t){this.producto.insumos.splice(t,1)}registerProduct(t){t.valid&&this.loteId?this.productoService.createProduct(this.loteId,this.producto).subscribe(n=>{this.successMessage="Producto creado con \xE9xito",t.resetForm(),this.producto.insumos=[],this.router.navigate(["/productos"])},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}getInsumoNombre(t){let n=this.insumos.find(a=>a.id===t);return n?n.nombre:"Desconocido"}};e.\u0275fac=function(n){return new(n||e)(u(_e),u(Ce),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-create-product"]],standalone:!0,features:[b],decls:33,vars:8,consts:[["registerForm","ngForm"],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaEnvasado"],["type","date","id","fechaEnvasado","name","fechaEnvasado","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaVencimiento"],["type","date","id","fechaVencimiento","name","fechaVencimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","precioVenta"],["type","number","id","precioVenta","name","precioVenta","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","cantidadProductos"],["type","number","id","cantidadProductos","name","cantidadProductos","required","",1,"form-control",3,"ngModelChange","ngModel"],["formArrayName","insumos"],["class","form-group",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","mt-2",3,"click"],["type","submit",1,"btn","btn-primary","mt-3"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],["for","insumoId"],["required","",1,"form-control",3,"ngModelChange","ngModel","name"],[3,"value",4,"ngFor","ngForOf"],["for","cantidad"],["type","number","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-danger","mt-2",3,"click"],[3,"value"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2",2),l(2,"Registrar Producto"),o(),s(3,"form",3,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.registerProduct(d))}),s(5,"div",4)(6,"label",5),l(7,"Nombre:"),o(),s(8,"input",6),x("ngModelChange",function(d){return f(h),S(a.producto.nombre,d)||(a.producto.nombre=d),g(d)}),o()(),s(9,"div",4)(10,"label",7),l(11,"Fecha de Envasado:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.producto.fechaEnvasado,d)||(a.producto.fechaEnvasado=d),g(d)}),o()(),s(13,"div",4)(14,"label",9),l(15,"Fecha de Vencimiento:"),o(),s(16,"input",10),x("ngModelChange",function(d){return f(h),S(a.producto.fechaVencimiento,d)||(a.producto.fechaVencimiento=d),g(d)}),o()(),s(17,"div",4)(18,"label",11),l(19,"Precio de Venta:"),o(),s(20,"input",12),x("ngModelChange",function(d){return f(h),S(a.producto.precioVenta,d)||(a.producto.precioVenta=d),g(d)}),o()(),s(21,"div",4)(22,"label",13),l(23,"Cantidad de Productos:"),o(),s(24,"input",14),x("ngModelChange",function(d){return f(h),S(a.producto.cantidadProductos,d)||(a.producto.cantidadProductos=d),g(d)}),o()(),s(25,"div",15),v(26,Fr,10,7,"div",16),s(27,"button",17),V("click",function(){return f(h),g(a.agregarItemDeInsumo())}),l(28,"Agregar Insumo"),o()(),s(29,"button",18),l(30,"Registrar"),o()(),v(31,Dr,3,1,"div",19)(32,Pr,3,1,"div",20),o()}n&2&&(c(8),I("ngModel",a.producto.nombre),c(4),I("ngModel",a.producto.fechaEnvasado),c(4),I("ngModel",a.producto.fechaVencimiento),c(4),I("ngModel",a.producto.precioVenta),c(4),I("ngModel",a.producto.cantidadProductos),c(2),m("ngForOf",a.producto.insumos),c(5),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,fe,ge,O,ae,de,G,q,B,W,U,M,z,E],encapsulation:2});let i=e;return i})();var Pt=i=>({active:i});function Ar(i,e){if(i&1&&(s(0,"tr")(1,"td"),l(2),o(),s(3,"td"),l(4),ne(5,"date"),o(),s(6,"td"),l(7),ne(8,"date"),o(),s(9,"td")(10,"a",8),l(11,"Ver Producto"),o()()()),i&2){let r=e.$implicit;c(2),C(r.nombre),c(2),C(re(5,5,r.fechaEnvasado)),c(3),C(re(8,7,r.fechaVencimiento)),c(3),T("routerLink","/producto/",r.id,"")}}function Nr(i,e){if(i&1&&(s(0,"div")(1,"div",5)(2,"table",6)(3,"thead")(4,"tr")(5,"th"),l(6,"Nombre"),o(),s(7,"th"),l(8,"Fecha de Envasado"),o(),s(9,"th"),l(10,"Fecha de Vencimiento"),o(),s(11,"th"),l(12,"Detalles"),o()()(),s(13,"tbody"),v(14,Ar,12,9,"tr",7),o()()()()),i&2){let r=p();c(14),m("ngForOf",r.filteredProductos)}}function Lr(i,e){i&1&&(s(0,"div",9),l(1,` No se encontraron productos.
`),o())}function Tr(i,e){if(i&1&&(s(0,"div",10),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage,`
`)}}var Li=(()=>{let e=class e{constructor(t,n){this.route=t,this.productoService=n,this.productos=[],this.filteredProductos=[],this.showActive=!0,this.filterOption="active",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.productoService.getProductos().subscribe(t=>{this.productos=t,this.filterProductos()},t=>{console.error("Error: ",t)})}filterProductos(){this.filterOption==="active"?this.filteredProductos=this.productos.filter(t=>t.activo):this.filterOption==="inactive"?this.filteredProductos=this.productos.filter(t=>!t.activo):this.filteredProductos=this.productos}toggleFilter(t){this.filterOption=t,this.filterProductos()}};e.\u0275fac=function(n){return new(n||e)(u(F),u(_e))},e.\u0275cmp=y({type:e,selectors:[["app-list-products"]],standalone:!0,features:[b],decls:10,vars:12,consts:[["role","group","aria-label","Filtro de productos",1,"btn-group"],[1,"btn","btn-outline-primary",3,"click","ngClass"],[4,"ngIf"],["class","alert alert-warning mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-info","btn-sm",3,"routerLink"],[1,"alert","alert-warning","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0)(1,"button",1),V("click",function(){return a.toggleFilter("active")}),l(2," Mostrar Activos"),o(),s(3,"button",1),V("click",function(){return a.toggleFilter("inactive")}),l(4," Mostrar No Activos "),o(),s(5,"button",1),V("click",function(){return a.toggleFilter("all")}),l(6," Mostrar Todos"),o()(),v(7,Nr,15,1,"div",2)(8,Lr,2,0,"div",3)(9,Tr,2,1,"div",4)),n&2&&(c(),m("ngClass",Ie(6,Pt,a.filterOption==="active")),c(2),m("ngClass",Ie(8,Pt,a.filterOption==="inactive")),c(2),m("ngClass",Ie(10,Pt,a.filterOption==="all")),c(2),m("ngIf",a.filteredProductos.length>0),c(),m("ngIf",!a.filteredProductos.length),c(),m("ngIf",a.successMessage))},dependencies:[M,it,z,E,he,$,Z],encapsulation:2});let i=e;return i})();function Rr(i,e){if(i&1&&(s(0,"div",6),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}function kr(i,e){if(i&1&&(s(0,"li",9)(1,"div")(2,"strong"),l(3,"Insumo:"),o(),l(4),s(5,"strong"),l(6,"Cantidad:"),o(),l(7),s(8,"strong"),l(9,"Costo Unitario:"),o(),l(10),o(),s(11,"div")(12,"a",10),l(13,"Editar"),o(),s(14,"a",11),l(15,"Eliminar"),o()()()),i&2){let r=e.$implicit;c(4),w(" ",r.nombre," - "),c(3),w(" ",r.cantidad," - "),c(3),w(" ",r.costoUnitario," "),c(2),T("routerLink","/edit-insumo/",r.id,""),c(2),T("routerLink","/delete-insumo/",r.id,"")}}function Or(i,e){if(i&1&&(s(0,"ul",7),v(1,kr,16,7,"li",8),o()),i&2){let r=p();c(),m("ngForOf",r.insumos)}}function jr(i,e){if(i&1&&(s(0,"div",12),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}var Ti=(()=>{let e=class e{constructor(t,n){this.insumoService=t,this.route=n,this.insumos=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.insumoService.getInsumos().subscribe(t=>{this.insumos=t},t=>{console.error("Error: ",t),this.errorMessage=t.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(Ce),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-insumo-list"]],standalone:!0,features:[b],decls:7,vars:3,consts:[[1,"container","mt-3"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-start","mb-3"],["routerLink","/registerInsumo",1,"btn","btn-primary"],["class","list-group",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-info","btn-sm","me-1",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,Rr,2,1,"div",1),s(2,"div",2)(3,"a",3),l(4,"Registrar Nuevo Insumo"),o()(),v(5,Or,2,1,"ul",4)(6,jr,2,1,"div",5),o()),n&2&&(c(),m("ngIf",a.errorMessage),c(4),m("ngIf",a.insumos.length),c(),m("ngIf",a.successMessage))},dependencies:[M,z,E,$,Z],encapsulation:2});let i=e;return i})();function Ur(i,e){if(i&1&&(s(0,"div",14)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Wr(i,e){if(i&1&&(s(0,"div",15)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Ri=(()=>{let e=class e{constructor(t,n){this.insumoService=t,this.router=n,this.insumo={id:0,nombre:"",cantidad:0,costoUnitario:"0.0"},this.errorMessage="",this.successMessage=""}register(t){t.valid?this.insumoService.createInsumo(this.insumo).subscribe(n=>{console.log("Insumo creado",n),this.successMessage="Insumo creado con exito",this.router.navigate(["/insumos"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(Ce),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-registerInsumo"]],standalone:!0,features:[b],decls:21,vars:5,consts:[["registerForm","ngForm"],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","cantidad"],["type","text","id","cantidad","name","cantidad","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","costoUnitario"],["type","number","id","costoUnitario","name","costoUnitario","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2",2),l(2,"Registrar Insumo"),o(),s(3,"form",3,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.register(d))}),s(5,"div",4)(6,"label",5),l(7,"Nombre:"),o(),s(8,"input",6),x("ngModelChange",function(d){return f(h),S(a.insumo.nombre,d)||(a.insumo.nombre=d),g(d)}),o()(),s(9,"div",4)(10,"label",7),l(11,"Cantidad:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.insumo.cantidad,d)||(a.insumo.cantidad=d),g(d)}),o()(),s(13,"div",4)(14,"label",9),l(15,"Costo Unitario:"),o(),s(16,"input",10),x("ngModelChange",function(d){return f(h),S(a.insumo.costoUnitario,d)||(a.insumo.costoUnitario=d),g(d)}),o()(),s(17,"button",11),l(18,"Registrar"),o()(),v(19,Ur,3,1,"div",12)(20,Wr,3,1,"div",13),o()}n&2&&(c(8),I("ngModel",a.insumo.nombre),c(4),I("ngModel",a.insumo.cantidad),c(4),I("ngModel",a.insumo.costoUnitario),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,ae,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();function Br(i,e){if(i&1&&(s(0,"div",14)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Gr(i,e){if(i&1&&(s(0,"div",15)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var ki=(()=>{let e=class e{constructor(t,n,a){this.insumoService=t,this.route=n,this.router=a,this.insumo={id:0,nombre:"",cantidad:0,costoUnitario:"0"},this.errorMessage="",this.successMessage="",this.insumoId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.insumoId=+t.id,this.loadInsumo(this.insumoId))})}loadInsumo(t){this.insumoService.getInsumo(t).subscribe(n=>{this.insumo={id:n.id,nombre:n.nombre,cantidad:n.cantidad,costoUnitario:n.costoUnitario}},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el insumo"})}saveInsumo(t){t.valid&&this.insumoId!==null?this.insumoService.updateInsumo(this.insumo).subscribe(n=>{console.log("Insumo actualizado",n),this.successMessage="Insumo actualizado con \xE9xito",this.router.navigate(["/insumos"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(Ce),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-edit-insumo"]],standalone:!0,features:[b],decls:21,vars:5,consts:[["editForm","ngForm"],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["for","cantidad"],["type","number","id","cantidad","name","cantidad","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","costoUnitario"],["type","number","id","costoUnitario","name","costoUnitario",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2",2),l(2,"Editar Insumo"),o(),s(3,"form",3,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.saveInsumo(d))}),s(5,"div",4)(6,"label",5),l(7,"Nombre:"),o(),s(8,"input",6),x("ngModelChange",function(d){return f(h),S(a.insumo.nombre,d)||(a.insumo.nombre=d),g(d)}),o()(),s(9,"div",4)(10,"label",7),l(11,"Cantidad:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.insumo.cantidad,d)||(a.insumo.cantidad=d),g(d)}),o()(),s(13,"div",4)(14,"label",9),l(15,"Costo Unitario:"),o(),s(16,"input",10),x("ngModelChange",function(d){return f(h),S(a.insumo.costoUnitario,d)||(a.insumo.costoUnitario=d),g(d)}),o()(),s(17,"button",11),l(18,"Guardar Cambios"),o()(),v(19,Br,3,1,"div",12)(20,Gr,3,1,"div",13),o()}n&2&&(c(8),I("ngModel",a.insumo.nombre),c(4),I("ngModel",a.insumo.cantidad),c(4),I("ngModel",a.insumo.costoUnitario),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,ae,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();function qr(i,e){if(i&1){let r=D();s(0,"div",4)(1,"div",5)(2,"h2",6),l(3,"Eliminar Insumo"),o()(),s(4,"div",7)(5,"p",8),l(6),o(),s(7,"button",9),V("click",function(){f(r);let n=p();return g(n.deleteInsumo())}),l(8,"Eliminar"),o()()()}if(i&2){let r=p();c(6),w("\xBFEst\xE1s seguro de que deseas eliminar al insumo: ",r.insumo.nombre,"?")}}function Hr(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function zr(i,e){if(i&1&&(s(0,"div",11)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Oi=(()=>{let e=class e{constructor(t,n,a){this.insumoService=t,this.route=n,this.router=a,this.insumo={nombre:"",cantidad:0,costoUnitario:"0"},this.errorMessage="",this.successMessage="",this.insumoId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.insumoId=+t.id,this.loadInsumo(this.insumoId))})}loadInsumo(t){this.insumoService.getInsumo(t).subscribe(n=>{this.insumo=n},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el insumo"})}deleteInsumo(){this.insumoId!==null?this.insumoService.deleteInsumo(this.insumoId).subscribe(()=>{this.successMessage="Insumo eliminado con \xE9xito",this.router.navigate(["/insumos"],{queryParams:{message:this.successMessage}})},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de insumo no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(Ce),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-delete-insumo"]],standalone:!0,features:[b],decls:4,vars:3,consts:[[1,"container","mt-5"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,qr,9,1,"div",1)(2,Hr,3,1,"div",2)(3,zr,3,1,"div",3),o()),n&2&&(c(),m("ngIf",a.insumo),c(),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();var ue=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/canalesVenta`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}getCanales(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}getCanal(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}deleteCanal(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers}).pipe(K(this.handleError))}handleError(t){return console.error("An error occurred",t.message),ie(t)}updateCanal(t,n){return this.http.put(`${this.apiURL}/${n}`,t,{headers:this.headers}).pipe(K(this.handleError))}createCanal(t){return this.http.post(`${this.apiURL}`,t,{headers:this.headers}).pipe(K(this.handleError))}entregarProductos(t,n,a){let h=`${this.apiURL}/${t}/agregarProducto`,_=new Bt().set("idCanal",n.toString()).set("cantProductos",a.toString());return this.http.post(h,{},{params:_,headers:this.headers})}getProductos(t){return this.http.get(`${this.apiURL}/${t}/productos`,{headers:this.headers})}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Kr(i,e){if(i&1&&(s(0,"tr")(1,"td"),l(2),o(),s(3,"td"),l(4),o(),s(5,"td")(6,"a",10),l(7,"Ver Productos"),o(),s(8,"a",10),l(9,"Editar"),o(),s(10,"a",11),l(11,"Eliminar"),o()()()),i&2){let r=e.$implicit;c(2),C(r.nombre),c(2),C(r.ubicacion),c(2),T("routerLink","/canal-productos/",r.id,""),c(2),T("routerLink","/edit-canal/",r.id,""),c(2),T("routerLink","/delete-canal/",r.id,"")}}function $r(i,e){if(i&1&&(s(0,"div")(1,"div",5)(2,"a",6),l(3,"Registrar Nuevo Canal"),o(),s(4,"table",7)(5,"thead",8)(6,"tr")(7,"th"),l(8,"Nombre"),o(),s(9,"th"),l(10,"Ubicaci\xF3n"),o(),s(11,"th"),l(12,"Acciones"),o()()(),s(13,"tbody"),v(14,Kr,12,8,"tr",9),o()()()()),i&2){let r=p();c(14),m("ngForOf",r.canales)}}function Zr(i,e){if(i&1&&(s(0,"div",12),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}function Xr(i,e){i&1&&(s(0,"div",13),l(1," No se encontraron canales de venta. "),o())}var ji=(()=>{let e=class e{constructor(t,n){this.canalService=t,this.route=n,this.canales=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.canalService.getCanales().subscribe(t=>{this.canales=t},t=>{console.error("Error: ",t)})}};e.\u0275fac=function(n){return new(n||e)(u(ue),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-canal-list"]],standalone:!0,features:[b],decls:7,vars:3,consts:[["noCanales",""],[1,"container","mt-4"],[1,"text-center","mb-4"],[4,"ngIf","ngIfElse"],["class","alert alert-success mt-3",4,"ngIf"],[1,"table-responsive","shadow-sm"],["routerLink","/create-canal",1,"btn","btn-primary","mb-2"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm","me-1",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"alert","alert-success","mt-3"],["role","alert",1,"alert","alert-info","text-center"]],template:function(n,a){if(n&1&&(s(0,"div",1)(1,"h2",2),l(2,"Lista de canales de venta"),o(),v(3,$r,15,1,"div",3)(4,Zr,2,1,"div",4)(5,Xr,2,0,"ng-template",null,0,Se),o()),n&2){let h=N(6);c(3),m("ngIf",a.canales.length>0)("ngIfElse",h),c(),m("ngIf",a.successMessage)}},dependencies:[M,z,E,$,Z],encapsulation:2});let i=e;return i})();function Yr(i,e){if(i&1&&(s(0,"div",9)(1,"p"),l(2),o()()),i&2){let r=p(2);c(2),C(r.errorMessage)}}function Jr(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p(2);c(2),C(r.successMessage)}}function Qr(i,e){if(i&1){let r=D();s(0,"div",2)(1,"h2",3),l(2,"Eliminar Canal de Venta"),o(),s(3,"div",4)(4,"p",5),l(5),o(),s(6,"button",6),V("click",function(){f(r);let n=p();return g(n.deleteCanal())}),l(7,"Eliminar"),o()(),v(8,Yr,3,1,"div",7)(9,Jr,3,1,"div",8),o()}if(i&2){let r=p();c(5),w("\xBFEst\xE1s seguro de que deseas eliminar el canal de venta ",r.canal.nombre,"?"),c(3),m("ngIf",r.errorMessage),c(),m("ngIf",r.successMessage)}}var Ui=(()=>{let e=class e{constructor(t,n,a){this.canalService=t,this.route=n,this.router=a,this.canal={nombre:"",ubicacion:""},this.errorMessage="",this.successMessage="",this.canalId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.canalId=+t.id,this.loadCanal(this.canalId))})}loadCanal(t){this.canalService.getCanal(t).subscribe(n=>{this.canal=n},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el canal"})}deleteCanal(){this.canalId!==null?this.canalService.deleteCanal(this.canalId).subscribe(()=>{this.successMessage="Canal eliminado con \xE9xito",setTimeout(()=>{this.router.navigate(["/"])},2e3)},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de canal no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(ue),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-canal-list"]],standalone:!0,features:[b],decls:2,vars:1,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,Qr,10,3,"div",1),o()),n&2&&(c(),m("ngIf",a.canal))},dependencies:[M,E,$],encapsulation:2});let i=e;return i})();function eo(i,e){if(i&1&&(s(0,"div",12)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function to(i,e){if(i&1&&(s(0,"div",13)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Wi=(()=>{let e=class e{constructor(t,n,a){this.canalService=t,this.route=n,this.router=a,this.canal={nombre:"",ubicacion:""},this.errorMessage="",this.successMessage="",this.canalId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.canalId=+t.id,this.loadCanal(this.canalId))})}loadCanal(t){this.canalService.getCanal(t).subscribe(n=>{this.canal={nombre:n.nombre,ubicacion:n.ubicacion}},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el canal"})}saveCanal(t){t.valid&&this.canalId!==null?this.canalService.updateCanal(this.canal,this.canalId).subscribe(n=>{console.log("Canal actualizado",n),this.successMessage="Canal actualizado con \xE9xito",this.router.navigate(["/canales"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="ID de canal no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(ue),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-edit-canal"]],standalone:!0,features:[b],decls:18,vars:4,consts:[["editForm","ngForm"],[1,"container","mt-3"],[1,"card",3,"ngSubmit"],[1,"card-body"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","ubicacion",1,"form-label"],["type","ubicacion","id","ubicacion","name","ubicacion","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Editar Canal"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.saveCanal(d))}),s(5,"div",3)(6,"div",4)(7,"div",4)(8,"label",5),l(9,"Nombre:"),o(),s(10,"input",6),x("ngModelChange",function(d){return f(h),S(a.canal.nombre,d)||(a.canal.nombre=d),g(d)}),o()(),s(11,"label",7),l(12,"ubicacion:"),o(),s(13,"input",8),x("ngModelChange",function(d){return f(h),S(a.canal.ubicacion,d)||(a.canal.ubicacion=d),g(d)}),o()(),s(14,"button",9),l(15,"Guardar Cambios"),o()()(),v(16,eo,3,1,"div",10)(17,to,3,1,"div",11),o()}n&2&&(c(10),I("ngModel",a.canal.nombre),c(3),I("ngModel",a.canal.ubicacion),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();function io(i,e){if(i&1&&(s(0,"div",12)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function no(i,e){if(i&1&&(s(0,"div",13)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Bi=(()=>{let e=class e{constructor(t,n){this.canalService=t,this.router=n,this.canal={nombre:"",ubicacion:""},this.errorMessage="",this.successMessage="",this.canalId=null}createCanal(t){t.valid?this.canalService.createCanal(this.canal).subscribe(n=>{console.log("Canal creado",n),this.successMessage="Canal creado con exito",this.router.navigate(["/canales"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(ue),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-create-canal"]],standalone:!0,features:[b],decls:18,vars:4,consts:[["createForm","ngForm"],[1,"container","mt-3"],[1,"card",3,"ngSubmit"],[1,"card-body"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","ubicacion",1,"form-label"],["type","ubicacion","id","ubicacion","name","ubicacion","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Crear Canal"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.createCanal(d))}),s(5,"div",3)(6,"div",4)(7,"div",4)(8,"label",5),l(9,"Nombre:"),o(),s(10,"input",6),x("ngModelChange",function(d){return f(h),S(a.canal.nombre,d)||(a.canal.nombre=d),g(d)}),o()(),s(11,"label",7),l(12,"ubicacion:"),o(),s(13,"input",8),x("ngModelChange",function(d){return f(h),S(a.canal.ubicacion,d)||(a.canal.ubicacion=d),g(d)}),o()(),s(14,"button",9),l(15,"Guardar Cambios"),o()()(),v(16,io,3,1,"div",10)(17,no,3,1,"div",11),o()}n&2&&(c(10),I("ngModel",a.canal.nombre),c(3),I("ngModel",a.canal.ubicacion),c(3),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();var ye=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/recetas`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}createReceta(t){return this.http.post(this.apiURL,t,{headers:this.headers}).pipe(K(this.handleError))}getReceta(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}getRecetas(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}updateReceta(t){return this.http.put(this.apiURL,t,{headers:this.headers}).pipe(K(this.handleError))}deleteReceta(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers}).pipe(K(this.handleError))}handleError(t){return console.error("An error occurred",t.message),ie(t)}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ro(i,e){if(i&1&&(s(0,"div",6),l(1),o()),i&2){let r=p();c(),C(r.errorMessage)}}function oo(i,e){if(i&1&&(s(0,"li",9)(1,"div")(2,"strong"),l(3,"Receta:"),o(),l(4),s(5,"strong"),l(6,"Creada por:"),o(),l(7),o(),s(8,"div")(9,"a",10),l(10,"Ver Detalles"),o(),s(11,"a",10),l(12,"Editar"),o(),s(13,"a",11),l(14,"Eliminar"),o()()()),i&2){let r=e.$implicit;c(4),w(" ",r.nombre," - "),c(3),w(" ",r.usuario.email," "),c(2),T("routerLink","/receta/",r.id,""),c(2),T("routerLink","/edit-receta/",r.id,""),c(2),T("routerLink","/delete-receta/",r.id,"")}}function ao(i,e){if(i&1&&(s(0,"ul",7),v(1,oo,15,8,"li",8),o()),i&2){let r=p();c(),m("ngForOf",r.recetas)}}function so(i,e){if(i&1&&(s(0,"div",12),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}var Gi=(()=>{let e=class e{constructor(t,n){this.recetaService=t,this.route=n,this.recetas=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.recetaService.getRecetas().subscribe(t=>{this.recetas=t},t=>{console.error("Error: ",t),this.errorMessage=t.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(ye),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-receta-list"]],standalone:!0,features:[b],decls:7,vars:3,consts:[[1,"container","mt-5"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-start","mb-3"],["routerLink","/registerReceta",1,"btn","btn-primary"],["class","list-group",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-info","btn-sm","me-1",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,ro,2,1,"div",1),s(2,"div",2)(3,"a",3),l(4,"Registrar Nueva Receta"),o()(),v(5,ao,2,1,"ul",4)(6,so,2,1,"div",5),o()),n&2&&(c(),m("ngIf",a.errorMessage),c(4),m("ngIf",a.recetas.length),c(),m("ngIf",a.successMessage))},dependencies:[M,z,E,$,Z],encapsulation:2});let i=e;return i})();function lo(i,e){if(i&1&&(s(0,"div",12)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function co(i,e){if(i&1&&(s(0,"div",13)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var qi=(()=>{let e=class e{constructor(t,n){this.recetaService=t,this.router=n,this.receta={nombre:"",texto:""},this.errorMessage="",this.successMessage=""}register(t){t.valid?this.recetaService.createReceta(this.receta).subscribe(n=>{console.log("Receta creada",n),this.successMessage="Receta creada con exito",this.router.navigate(["/recetas"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(ye),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-registerReceta"]],standalone:!0,features:[b],decls:18,vars:4,consts:[["registerForm","ngForm"],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","texto"],["type","text","id","texto","name","texto","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2",2),l(2,"Registrar Receta"),o(),s(3,"form",3,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.register(d))}),s(5,"div",4)(6,"label",5),l(7,"Nombre:"),o(),s(8,"input",6),x("ngModelChange",function(d){return f(h),S(a.receta.nombre,d)||(a.receta.nombre=d),g(d)}),o()(),s(9,"div",4)(10,"label",7),l(11,"Texto:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.receta.texto,d)||(a.receta.texto=d),g(d)}),o()(),se(13,"br"),s(14,"button",9),l(15,"Registrar"),o()(),v(16,lo,3,1,"div",10)(17,co,3,1,"div",11),o()}n&2&&(c(8),I("ngModel",a.receta.nombre),c(4),I("ngModel",a.receta.texto),c(4),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();function mo(i,e){if(i&1&&(s(0,"div",3)(1,"div",4)(2,"h2",5),l(3),o()(),s(4,"div",6)(5,"p",7)(6,"strong"),l(7,"Creada por:"),o(),l(8),o(),s(9,"p",7)(10,"strong"),l(11,"Texto:"),o(),l(12),o()()()),i&2){let r=p();c(3),w("Receta: ",r.receta.nombre,""),c(5),w(" ",r.receta.usuario.email,""),c(4),w(" ",r.receta.texto,"")}}function uo(i,e){if(i&1&&(s(0,"div",8),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}var Hi=(()=>{let e=class e{constructor(t,n){this.route=t,this.recetaService=n,this.errorMessage=""}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.recetaService.getReceta(t).subscribe(n=>{this.receta=n},n=>{console.error("Error: ",n),this.errorMessage=n.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(F),u(ye))},e.\u0275cmp=y({type:e,selectors:[["app-receta-detail"]],standalone:!0,features:[b],decls:3,vars:2,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"alert","alert-danger","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,mo,13,3,"div",1)(2,uo,2,1,"div",2),o()),n&2&&(c(),m("ngIf",a.receta),c(),m("ngIf",a.errorMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();function po(i,e){if(i&1&&(s(0,"div",12),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}function ho(i,e){if(i&1&&(s(0,"div",13),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}var zi=(()=>{let e=class e{constructor(t,n,a){this.recetaService=t,this.route=n,this.router=a,this.receta={nombre:"",texto:""},this.errorMessage="",this.successMessage="",this.recetaId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.recetaId=+t.id,this.loadReceta(this.recetaId))})}loadReceta(t){this.recetaService.getReceta(t).subscribe(n=>{this.receta.nombre=n.nombre,this.receta.texto=n.texto},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar la receta"})}saveReceta(t){t.valid&&this.recetaId!==null?this.recetaService.updateReceta(this.receta).subscribe(n=>{console.log("Receta actualizada",n),this.successMessage="Receta actualizada con \xE9xito",this.router.navigate(["/recetas"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(ye),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-edit-receta"]],standalone:!0,features:[b],decls:18,vars:4,consts:[["editForm","ngForm"],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","texto"],["type","text","id","texto","name","texto","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2",2),l(2,"Editar Receta"),o(),s(3,"form",3,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.saveReceta(d))}),s(5,"div",4)(6,"label",5),l(7,"Nombre:"),o(),s(8,"input",6),x("ngModelChange",function(d){return f(h),S(a.receta.nombre,d)||(a.receta.nombre=d),g(d)}),o()(),s(9,"div",4)(10,"label",7),l(11,"Texto:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.receta.texto,d)||(a.receta.texto=d),g(d)}),o()(),se(13,"br"),s(14,"button",9),l(15,"Guardar Cambios"),o()(),v(16,po,2,1,"div",10)(17,ho,2,1,"div",11),o()}n&2&&(c(8),I("ngModel",a.receta.nombre),c(4),I("ngModel",a.receta.texto),c(4),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,O,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();function fo(i,e){if(i&1){let r=D();s(0,"div",4)(1,"div",5)(2,"h2",6),l(3,"Eliminar Receta"),o()(),s(4,"div",7)(5,"p",8),l(6),o(),s(7,"button",9),V("click",function(){f(r);let n=p();return g(n.deleteReceta())}),l(8,"Eliminar"),o()()()}if(i&2){let r=p();c(6),w("\xBFEst\xE1s seguro de que deseas eliminar la receta: ",r.receta.nombre,"?")}}function go(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function vo(i,e){if(i&1&&(s(0,"div",11)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Ki=(()=>{let e=class e{constructor(t,n,a){this.recetaService=t,this.route=n,this.router=a,this.receta={nombre:"",texto:""},this.errorMessage="",this.successMessage="",this.recetaId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.recetaId=+t.id,this.loadReceta(this.recetaId))})}loadReceta(t){this.recetaService.getReceta(t).subscribe(n=>{this.receta.id=n.id,this.receta.nombre=n.nombre},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar la receta"})}deleteReceta(){this.recetaId!==null?this.recetaService.deleteReceta(this.recetaId).subscribe(()=>{this.successMessage="Receta eliminada con \xE9xito",setTimeout(()=>{this.router.navigate(["/"])},2e3)},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de receta no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(ye),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-delete-receta"]],standalone:!0,features:[b],decls:4,vars:3,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,fo,9,1,"div",1)(2,go,3,1,"div",2)(3,vo,3,1,"div",3),o()),n&2&&(c(),m("ngIf",a.receta),c(),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();var be=(()=>{let e=class e{constructor(t){this.http=t,this.apiURL=`${ee.apiUrl}/materiasPrimas`,this.headers=new J({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`})}getMateriasPrimas(){return this.http.get(`${this.apiURL}/all`,{headers:this.headers})}getMateriaPrima(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}getMateriaPrima2(t){return this.http.get(`${this.apiURL}/${t}`,{headers:this.headers})}deleteMateriaPrima(t){return this.http.delete(`${this.apiURL}/${t}`,{headers:this.headers}).pipe(K(this.handleError))}handleError(t){return console.error("An error occurred",t.message),ie(t)}updateMateriaPrima(t,n){return this.http.put(`${this.apiURL}/${n}`,t,{headers:this.headers}).pipe(K(this.handleError))}createMateriaPrima(t){return this.http.post(`${this.apiURL}`,t,{headers:this.headers}).pipe(K(this.handleError))}};e.\u0275fac=function(n){return new(n||e)(Y(Q))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function _o(i,e){if(i&1&&(s(0,"tr")(1,"td"),l(2),o(),s(3,"td"),l(4),o(),s(5,"td"),l(6),o(),s(7,"td"),l(8),o(),s(9,"td"),l(10),ne(11,"date"),o(),s(12,"td"),l(13),ne(14,"date"),o(),s(15,"td")(16,"a",9),l(17,"Eliminar"),o(),s(18,"a",10),l(19,"Editar"),o()()()),i&2){let r=e.$implicit;c(2),C(r.nombre),c(2),C(r.productor.nombre),c(2),C(r.peso),c(2),C(r.costoPorKg),c(2),C(re(11,10,r.fechaCompra)),c(3),C(re(14,12,r.fechaVencimiento)),c(3),T("routerLink","/delete-materia/",r.id,""),c(2),T("routerLink","/edit-materia/",r.id,"")}}function Co(i,e){if(i&1&&(s(0,"div")(1,"div",5)(2,"table",6)(3,"thead",7)(4,"tr")(5,"th"),l(6,"Nombre"),o(),s(7,"th"),l(8,"Productor"),o(),s(9,"th"),l(10,"Cantidad en kgs"),o(),s(11,"th"),l(12,"Costo por kg"),o(),s(13,"th"),l(14,"Compra"),o(),s(15,"th"),l(16,"Vencimiento"),o(),s(17,"th"),l(18,"Acciones"),o()()(),s(19,"tbody"),v(20,_o,20,14,"tr",8),o()()()()),i&2){let r=p();c(20),m("ngForOf",r.materias)}}function yo(i,e){i&1&&(s(0,"div",11),l(1," No se encontraron materias primas disponibles. "),o())}var $i=(()=>{let e=class e{constructor(t,n){this.materiaService=t,this.route=n,this.materias=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.successMessage=t.message||null}),this.materiaService.getMateriasPrimas().subscribe(t=>{this.materias=t},t=>{console.error("Error: ",t)})}};e.\u0275fac=function(n){return new(n||e)(u(be),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-materia-list"]],standalone:!0,features:[b],decls:8,vars:2,consts:[["noCanales",""],[1,"container","mt-4"],[1,"text-center","mb-4"],["routerLink","/create-materia",1,"btn","btn-primary","mb-2"],[4,"ngIf","ngIfElse"],[1,"table-responsive","shadow-sm"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"btn","btn-warning","btn-sm","me-1",3,"routerLink"],["role","alert",1,"alert","alert-info","text-center"]],template:function(n,a){if(n&1&&(s(0,"div",1)(1,"h2",2),l(2,"Lista de materias primas"),o(),s(3,"a",3),l(4,"Registrar Nueva Materia Prima"),o(),v(5,Co,21,1,"div",4)(6,yo,2,0,"ng-template",null,0,Se),o()),n&2){let h=N(7);c(5),m("ngIf",a.materias.length>0)("ngIfElse",h)}},dependencies:[M,z,E,he,$,Z],encapsulation:2});let i=e;return i})();function bo(i,e){if(i&1&&(s(0,"div",9)(1,"p"),l(2),o()()),i&2){let r=p(2);c(2),C(r.errorMessage)}}function Mo(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p(2);c(2),C(r.successMessage)}}function Eo(i,e){if(i&1){let r=D();s(0,"div",2)(1,"h2",3),l(2,"Eliminar Canal de Venta"),o(),s(3,"div",4)(4,"p",5),l(5),o(),s(6,"button",6),V("click",function(){f(r);let n=p();return g(n.deleteMateria())}),l(7,"Eliminar"),o()(),v(8,bo,3,1,"div",7)(9,Mo,3,1,"div",8),o()}if(i&2){let r=p();c(5),w("\xBFEst\xE1s seguro de que deseas eliminar el canal de venta ",r.materia.nombre,"?"),c(3),m("ngIf",r.errorMessage),c(),m("ngIf",r.successMessage)}}var Zi=(()=>{let e=class e{constructor(t,n,a){this.materiaService=t,this.route=n,this.router=a,this.materia={nombre:"",fechaCompra:"",fechaVencimiento:"",costoPorKg:0,formaAlmacenamiento:"",peso:0,productor:{id:0,nombre:"",fechaInicio:"",zona:""},nombreProductor:""},this.errorMessage="",this.successMessage="",this.materiaId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.materiaId=+t.id,this.loadMateria(this.materiaId))})}loadMateria(t){this.materiaService.getMateriaPrima(t).subscribe(n=>{this.materia=n},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar la materia prima"})}deleteMateria(){this.materiaId!==null?this.materiaService.deleteMateriaPrima(this.materiaId).subscribe(()=>{this.successMessage="Materia prima eliminada con \xE9xito",setTimeout(()=>{this.router.navigate(["/"])},2e3)},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de materia prima no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(be),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-materia-delete"]],standalone:!0,features:[b],decls:2,vars:1,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,Eo,10,3,"div",1),o()),n&2&&(c(),m("ngIf",a.materia))},dependencies:[M,E,$],encapsulation:2});let i=e;return i})();function Io(i,e){if(i&1&&(s(0,"option",23),l(1),o()),i&2){let r=e.$implicit;m("ngValue",r.nombre),c(),C(r.nombre)}}function So(i,e){if(i&1&&(s(0,"div",24)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function xo(i,e){if(i&1&&(s(0,"div",25)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Xi=(()=>{let e=class e{constructor(t,n,a,h){this.materiaService=t,this.route=n,this.familiaService=a,this.router=h,this.materia={nombre:"",fechaCompra:"",fechaVencimiento:"",costoPorKg:0,formaAlmacenamiento:"",peso:0,nombreProductor:""},this.errorMessage="",this.successMessage="",this.materiaId=null,this.familias=[]}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.materiaId=+t.id,this.loadMateria(this.materiaId))}),this.familiaService.getFamiliasProductoras().subscribe(t=>{this.familias=t},t=>{console.error("Error: ",t),this.errorMessage=t.error.message})}loadMateria(t){this.materiaService.getMateriaPrima(t).subscribe(n=>{this.materia={nombre:n.nombre,fechaCompra:n.fechaCompra,fechaVencimiento:n.fechaVencimiento,costoPorKg:n.costoPorKg,formaAlmacenamiento:n.formaAlmacenamiento,peso:n.peso,nombreProductor:n.productor.nombre}},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar la materia prima"})}saveMateria(t){t.valid&&this.materiaId!==null?this.materiaService.updateMateriaPrima(this.materia,this.materiaId).subscribe(n=>{console.log("Materia prima actualizada",n),this.successMessage="Materia prima actualizada con \xE9xito",this.router.navigate(["/materiasPrimas"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="ID de materia prima no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(be),u(F),u(me),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-edit-materia"]],standalone:!0,features:[b],decls:35,vars:10,consts:[["editForm","ngForm"],[1,"container","mt-3"],[1,"card",3,"ngSubmit"],[1,"card-body"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaCompra",1,"form-label"],["type","date","id","fechaCompra","name","fechaCompra","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaVencimiento",1,"form-label"],["type","date","id","fechaVencimiento","name","fechaVencimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","costoPorKg",1,"form-label"],["type","number","id","costoPorKg","name","costoPorKg","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","formaAlmacenamiento",1,"form-label"],["type","text","id","formaAlmacenamiento","name","formaAlmacenamiento","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","peso",1,"form-label"],["type","number","id","peso","name","peso","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productor",1,"form-label"],["id","productor","name","productor","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[3,"ngValue"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Editar Materia Prima"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.saveMateria(d))}),s(5,"div",3)(6,"div",4)(7,"label",5),l(8,"Nombre:"),o(),s(9,"input",6),x("ngModelChange",function(d){return f(h),S(a.materia.nombre,d)||(a.materia.nombre=d),g(d)}),o()(),s(10,"label",7),l(11,"Fecha de compra:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.materia.fechaCompra,d)||(a.materia.fechaCompra=d),g(d)}),o(),s(13,"label",9),l(14,"Fecha de vencimiento:"),o(),s(15,"input",10),x("ngModelChange",function(d){return f(h),S(a.materia.fechaVencimiento,d)||(a.materia.fechaVencimiento=d),g(d)}),o(),s(16,"label",11),l(17,"Costo por kg:"),o(),s(18,"input",12),x("ngModelChange",function(d){return f(h),S(a.materia.costoPorKg,d)||(a.materia.costoPorKg=d),g(d)}),o(),s(19,"label",13),l(20,"Forma de almacenamiento:"),o(),s(21,"input",14),x("ngModelChange",function(d){return f(h),S(a.materia.formaAlmacenamiento,d)||(a.materia.formaAlmacenamiento=d),g(d)}),o(),s(22,"label",15),l(23,"Peso:"),o(),s(24,"input",16),x("ngModelChange",function(d){return f(h),S(a.materia.peso,d)||(a.materia.peso=d),g(d)}),o(),s(25,"div",4)(26,"label",17),l(27,"Productor:"),o(),s(28,"select",18),x("ngModelChange",function(d){return f(h),S(a.materia.nombreProductor,d)||(a.materia.nombreProductor=d),g(d)}),v(29,Io,2,2,"option",19),o()()(),s(30,"div")(31,"button",20),l(32,"Guardar Cambios"),o()(),v(33,So,3,1,"div",21)(34,xo,3,1,"div",22),o()()}n&2&&(c(9),I("ngModel",a.materia.nombre),c(3),I("ngModel",a.materia.fechaCompra),c(3),I("ngModel",a.materia.fechaVencimiento),c(3),I("ngModel",a.materia.costoPorKg),c(3),I("ngModel",a.materia.formaAlmacenamiento),c(3),I("ngModel",a.materia.peso),c(4),I("ngModel",a.materia.nombreProductor),c(),m("ngForOf",a.familias),c(4),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,fe,ge,O,ae,de,G,q,B,W,U,M,z,E],encapsulation:2});let i=e;return i})();function wo(i,e){if(i&1&&(s(0,"option",23),l(1),o()),i&2){let r=e.$implicit;m("ngValue",r.nombre),c(),C(r.nombre)}}function Vo(i,e){if(i&1&&(s(0,"div",24)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Fo(i,e){if(i&1&&(s(0,"div",25)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var Yi=(()=>{let e=class e{constructor(t,n,a){this.materiaService=t,this.familiaService=n,this.router=a,this.materia={nombre:"",fechaCompra:"",fechaVencimiento:"",costoPorKg:0,formaAlmacenamiento:"",peso:0,nombreProductor:""},this.familias=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.familiaService.getFamiliasProductoras().subscribe(t=>{this.familias=t},t=>{console.error("Error: ",t),this.errorMessage=t.error.message})}createMateria(t){this.materiaService.createMateriaPrima(this.materia).subscribe(n=>{console.log("Materia prima creada",n),this.successMessage="Materia prima creada con exito",this.router.navigate(["/materiasPrimas"],{queryParams:{message:this.successMessage}})},n=>{console.log(this.materia.nombreProductor),console.error("Error: ",n),this.errorMessage=n.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(be),u(me),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-materia-create"]],standalone:!0,features:[b],decls:35,vars:10,consts:[["editForm","ngForm"],[1,"container","mt-3"],[1,"card",3,"ngSubmit"],[1,"card-body"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaCompra",1,"form-label"],["type","date","id","fechaCompra","name","fechaCompra","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaVencimiento",1,"form-label"],["type","date","id","fechaVencimiento","name","fechaVencimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","costoPorKg",1,"form-label"],["type","number","id","costoPorKg","name","costoPorKg","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","formaAlmacenamiento",1,"form-label"],["type","text","id","formaAlmacenamiento","name","formaAlmacenamiento","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","peso",1,"form-label"],["type","number","id","peso","name","peso","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productor",1,"form-label"],["id","productor","name","productor","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[3,"ngValue"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Crear Materia Prima"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.createMateria(d))}),s(5,"div",3)(6,"div",4)(7,"label",5),l(8,"Nombre:"),o(),s(9,"input",6),x("ngModelChange",function(d){return f(h),S(a.materia.nombre,d)||(a.materia.nombre=d),g(d)}),o()(),s(10,"label",7),l(11,"Fecha de compra:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.materia.fechaCompra,d)||(a.materia.fechaCompra=d),g(d)}),o(),s(13,"label",9),l(14,"Fecha de vencimiento:"),o(),s(15,"input",10),x("ngModelChange",function(d){return f(h),S(a.materia.fechaVencimiento,d)||(a.materia.fechaVencimiento=d),g(d)}),o(),s(16,"label",11),l(17,"Costo por kg:"),o(),s(18,"input",12),x("ngModelChange",function(d){return f(h),S(a.materia.costoPorKg,d)||(a.materia.costoPorKg=d),g(d)}),o(),s(19,"label",13),l(20,"Forma de almacenamiento:"),o(),s(21,"input",14),x("ngModelChange",function(d){return f(h),S(a.materia.formaAlmacenamiento,d)||(a.materia.formaAlmacenamiento=d),g(d)}),o(),s(22,"label",15),l(23,"Peso:"),o(),s(24,"input",16),x("ngModelChange",function(d){return f(h),S(a.materia.peso,d)||(a.materia.peso=d),g(d)}),o(),s(25,"div",4)(26,"label",17),l(27,"Productor:"),o(),s(28,"select",18),x("ngModelChange",function(d){return f(h),S(a.materia.nombreProductor,d)||(a.materia.nombreProductor=d),g(d)}),v(29,wo,2,2,"option",19),o()()(),s(30,"div")(31,"button",20),l(32,"Guardar Cambios"),o()(),v(33,Vo,3,1,"div",21)(34,Fo,3,1,"div",22),o()()}n&2&&(c(9),I("ngModel",a.materia.nombre),c(3),I("ngModel",a.materia.fechaCompra),c(3),I("ngModel",a.materia.fechaVencimiento),c(3),I("ngModel",a.materia.costoPorKg),c(3),I("ngModel",a.materia.formaAlmacenamiento),c(3),I("ngModel",a.materia.peso),c(4),I("ngModel",a.materia.nombreProductor),c(),m("ngForOf",a.familias),c(4),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,fe,ge,O,ae,de,G,q,B,W,U,M,z,E],encapsulation:2});let i=e;return i})();var Ji=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=y({type:e,selectors:[["app-home"]],standalone:!0,features:[b],decls:8,vars:0,consts:[[1,"container","welcome-container"],[1,"card","welcome-card"],[1,"row","align-items-center"],[1,"col-md-4","text-center"],["src","assets/images/logo.png","alt","Imagen de Bienvenida",1,"img-fluid"],[1,"col-md-8"],[1,"welcome-text"]],template:function(n,a){n&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),se(4,"img",4),o(),s(5,"div",5)(6,"h1",6),l(7,"Bienvenidos al Portal de Gesti\xF3n de la Sala Comunitaria"),o()()()()())},dependencies:[M],styles:[".welcome-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f5f5f5;text-align:center}.welcome-text[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#000}.welcome-card[_ngcontent-%COMP%]{padding:30px;background-color:#fff;border-radius:10px;box-shadow:0 2px 4px #0000001a;width:100%}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:10px}"]});let i=e;return i})();function Do(i,e){if(i&1&&(s(0,"div",15),l(1),o()),i&2){let r=p();c(),w(" ",r.successMessage," ")}}function Po(i,e){if(i&1&&(s(0,"div",16),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}var Qi=(()=>{let e=class e{constructor(t,n){this.loginService=t,this.router=n,this.user={email:"",password:""},this.errorMessage="",this.successMessage=""}login(t){this.loginService.login(this.user).subscribe(n=>{localStorage.setItem("token",n.token),this.router.navigate(["/home"]),n.token&&(this.successMessage="Usuario logueado correctamente",this.router.navigate(["/"]))},n=>{this.errorMessage="Usuario o contrase\xF1a incorrectos"})}};e.\u0275fac=function(n){return new(n||e)(u(ht),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-login"]],standalone:!0,features:[b],decls:19,vars:5,consts:[["loginForm","ngForm"],[1,"container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"card","p-4","shadow-sm",2,"max-width","400px","width","100%"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mt-3"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","gap-2","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"div",2)(2,"h2",3),l(3,"Login"),o(),s(4,"form",4,0),V("ngSubmit",function(){f(h);let d=N(5);return g(a.login(d))}),s(6,"div",5)(7,"label",6),l(8,"Email:"),o(),s(9,"input",7),x("ngModelChange",function(d){return f(h),S(a.user.email,d)||(a.user.email=d),g(d)}),o()(),s(10,"div",8)(11,"label",9),l(12,"Password:"),o(),s(13,"input",10),x("ngModelChange",function(d){return f(h),S(a.user.password,d)||(a.user.password=d),g(d)}),o()(),s(14,"div",11)(15,"button",12),l(16,"Login"),o()(),v(17,Do,2,1,"div",13)(18,Po,2,1,"div",14),o()()()}if(n&2){let h=N(5);c(9),I("ngModel",a.user.email),c(4),I("ngModel",a.user.password),c(2),m("disabled",!h.form.valid),c(2),m("ngIf",a.successMessage),c(),m("ngIf",a.errorMessage)}},dependencies:[j,H,O,G,q,B,W,U,M,E],encapsulation:2});let i=e;return i})();var k=(()=>{let e=class e{constructor(t){this.router=t}canActivate(t,n){return typeof localStorage<"u"&&localStorage.getItem("token")?!0:(this.router.navigate(["/login"]),!1)}};e.\u0275fac=function(n){return new(n||e)(Y(P))},e.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Ao(i,e){if(i&1&&(s(0,"li",11)(1,"p")(2,"strong"),l(3,"Materia Prima:"),o(),l(4),o(),s(5,"p")(6,"strong"),l(7,"Cantidad en Kg:"),o(),l(8),o()()),i&2){let r=e.$implicit,t=p(2);c(4),w(" ",t.getMateriaPrimaNombre(r),""),c(4),w(" ",r.cantidadEnKg,"")}}function No(i,e){if(i&1&&(s(0,"div")(1,"div",12)(2,"a",13),l(3,"Cargar Stock de Producto"),o(),s(4,"a",14),l(5,"Borrar Lote"),o()()()),i&2){let r=p(2);c(2),T("routerLink","/crearProducto/",r.lote.id,""),c(2),T("routerLink","/delete-lote/",r.lote.id,"")}}function Lo(i,e){if(i&1&&(s(0,"div",3)(1,"h2",4),l(2,"Detalles del Lote"),o(),s(3,"div",5)(4,"p",6)(5,"strong"),l(6,"C\xF3digo:"),o(),l(7),o(),s(8,"p",6)(9,"strong"),l(10,"Nombre:"),o(),l(11),o(),s(12,"p",6)(13,"strong"),l(14,"Fecha de elaboraci\xF3n:"),o(),l(15),ne(16,"date"),o(),s(17,"p",6)(18,"strong"),l(19,"Cantidad producida (en KGs):"),o(),l(20),o(),s(21,"p",6)(22,"strong"),l(23,"Costo de producci\xF3n del lote:"),o(),l(24),ne(25,"currency"),o(),s(26,"h3",7),l(27,"Items de Materia Prima"),o(),s(28,"ul",8),v(29,Ao,9,2,"li",9),o(),v(30,No,6,4,"div",10),o()()),i&2){let r=p();c(7),w(" ",r.lote.codigo,""),c(4),w(" ",r.lote.nombre,""),c(4),w(" ",re(16,7,r.lote.fechaElaboracion),""),c(5),w(" ",r.lote.cantidadProducida,""),c(4),w(" ",re(25,9,r.lote.costoLote),""),c(5),m("ngForOf",r.lote.materiaPrima),c(),m("ngIf",r.lote.activo)}}function To(i,e){if(i&1&&(s(0,"div",15),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}var en=(()=>{let e=class e{constructor(t,n){this.route=t,this.loteService=n,this.errorMessage=""}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.loteService.getLote(t).subscribe(n=>{this.lote=n},n=>{console.error("Error: ",n),this.errorMessage=n.error.message})}getMateriaPrimaNombre(t){return t.materiaPrima?t.materiaPrima.nombre:"Desconocido"}};e.\u0275fac=function(n){return new(n||e)(u(F),u(we))},e.\u0275cmp=y({type:e,selectors:[["app-lote-detail"]],standalone:!0,features:[b],decls:3,vars:2,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[1,"mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"list-group-item"],[1,"mt-3"],[1,"btn","btn-info","btn-sm",3,"routerLink"],[1,"btn","btn-danger",3,"routerLink"],[1,"alert","alert-danger","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,Lo,31,11,"div",1)(2,To,2,1,"div",2),o()),n&2&&(c(),m("ngIf",a.lote),c(),m("ngIf",a.errorMessage))},dependencies:[M,z,E,nt,he,$,Z],encapsulation:2});let i=e;return i})();function Ro(i,e){if(i&1){let r=D();s(0,"div",4)(1,"div",5)(2,"h2",6),l(3,"Eliminar Lote"),o()(),s(4,"div",7)(5,"p",8),l(6),o(),s(7,"button",9),V("click",function(){f(r);let n=p();return g(n.deleteLote())}),l(8,"Eliminar lote"),o()()()}if(i&2){let r=p();c(6),w("\xBFEst\xE1s seguro de que deseas eliminar el lote: ",r.lote.nombre,"?")}}function ko(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Oo(i,e){if(i&1&&(s(0,"div",11)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var tn=(()=>{let e=class e{constructor(t,n,a){this.loteService=t,this.route=n,this.router=a,this.lote={activo:!0,id:0,codigo:"",nombre:"",fechaElaboracion:"",cantidadProducida:0,materiaPrima:[],costoLote:0},this.errorMessage="",this.successMessage="",this.loteId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.loteId=+t.id,this.loadLote(this.loteId))})}loadLote(t){this.loteService.getLote(t).subscribe(n=>{this.lote=n},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el lote"})}deleteLote(){this.loteId!==null?this.loteService.deleteLote(this.loteId).subscribe(()=>{this.successMessage="Lote eliminado con \xE9xito",setTimeout(()=>{this.router.navigate(["/"])},2e3)},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de lote no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(we),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-delete-lote"]],standalone:!0,features:[b],decls:4,vars:3,consts:[[1,"container","mt-5"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,Ro,9,1,"div",1)(2,ko,3,1,"div",2)(3,Oo,3,1,"div",3),o()),n&2&&(c(),m("ngIf",a.lote),c(),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();function jo(i,e){if(i&1&&(s(0,"option",25),l(1),o()),i&2){let r=e.$implicit;m("value",r.id),c(),C(r.nombre)}}function Uo(i,e){if(i&1){let r=D();s(0,"div",4)(1,"label",19),l(2,"Materia Prima:"),o(),s(3,"select",20),x("ngModelChange",function(n){let a=f(r).$implicit;return S(a.materiaPrimaId,n)||(a.materiaPrimaId=n),g(n)}),v(4,jo,2,2,"option",21),o(),s(5,"label",22),l(6,"Cantidad en Kg:"),o(),s(7,"input",23),x("ngModelChange",function(n){let a=f(r).$implicit;return S(a.cantidadEnKg,n)||(a.cantidadEnKg=n),g(n)}),o(),s(8,"button",24),V("click",function(){let n=f(r).index,a=p();return g(a.eliminarItemDeMateriaPrima(n))}),l(9,"Eliminar"),o()()}if(i&2){let r=e.$implicit,t=e.index,n=p();c(3),T("name","materiaPrimaId-",t,""),I("ngModel",r.materiaPrimaId),c(),m("ngForOf",n.materiasPrimas),c(3),T("name","cantidadEnKg-",t,""),I("ngModel",r.cantidadEnKg)}}function Wo(i,e){if(i&1&&(s(0,"div",26)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function Bo(i,e){if(i&1&&(s(0,"div",27)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var nn=(()=>{let e=class e{constructor(t,n,a){this.loteService=t,this.materiaPrimaService=n,this.router=a,this.lote={activo:!0,codigo:"",nombre:"",fechaElaboracion:"",cantidadProducida:0,itemsDeMateriaPrima:[]},this.materiasPrimas=[],this.errorMessage="",this.successMessage=""}ngOnInit(){this.materiaPrimaService.getMateriasPrimas().subscribe(t=>{this.materiasPrimas=t},t=>{console.error("Error al obtener materias primas",t)})}agregarItemDeMateriaPrima(){this.lote.itemsDeMateriaPrima.push({materiaPrimaId:0,cantidadEnKg:0})}eliminarItemDeMateriaPrima(t){this.lote.itemsDeMateriaPrima.splice(t,1)}register(t){t.valid?this.loteService.createLote(this.lote).subscribe(n=>{console.log("Lote creado",n),this.successMessage="Lote creado con \xE9xito",t.resetForm(),this.lote.itemsDeMateriaPrima=[],this.router.navigate(["/lotes"],{queryParams:{message:this.successMessage}})},n=>{console.error("Error: ",n),this.errorMessage=n.error.message}):this.errorMessage="Por favor, complete correctamente los campos"}};e.\u0275fac=function(n){return new(n||e)(u(we),u(be),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-register-lote"]],standalone:!0,features:[b],decls:29,vars:7,consts:[["registerForm","ngForm"],[1,"container","mt-5"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","codigo"],["type","text","id","codigo","name","codigo","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaElaboracion"],["type","date","id","fechaElaboracion","name","fechaElaboracion","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","cantidadProducida"],["type","number","id","cantidadProducida","name","cantidadProducida","required","",1,"form-control",3,"ngModelChange","ngModel"],["formArrayName","itemsDeMateriaPrima"],["class","form-group",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","mt-2",3,"click"],["type","submit",1,"btn","btn-primary","mt-3"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],["for","materiaPrimaId"],["required","",1,"form-control",3,"ngModelChange","ngModel","name"],[3,"value",4,"ngFor","ngForOf"],["for","cantidadEnKg"],["type","number","required","",1,"form-control",3,"ngModelChange","ngModel","name"],["type","button",1,"btn","btn-danger","mt-2",3,"click"],[3,"value"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2",2),l(2,"Registrar Lote"),o(),s(3,"form",3,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.register(d))}),s(5,"div",4)(6,"label",5),l(7,"C\xF3digo:"),o(),s(8,"input",6),x("ngModelChange",function(d){return f(h),S(a.lote.codigo,d)||(a.lote.codigo=d),g(d)}),o()(),s(9,"div",4)(10,"label",7),l(11,"Nombre:"),o(),s(12,"input",8),x("ngModelChange",function(d){return f(h),S(a.lote.nombre,d)||(a.lote.nombre=d),g(d)}),o()(),s(13,"div",4)(14,"label",9),l(15,"Fecha de Elaboraci\xF3n:"),o(),s(16,"input",10),x("ngModelChange",function(d){return f(h),S(a.lote.fechaElaboracion,d)||(a.lote.fechaElaboracion=d),g(d)}),o()(),s(17,"div",4)(18,"label",11),l(19,"Cantidad Producida (en KGs):"),o(),s(20,"input",12),x("ngModelChange",function(d){return f(h),S(a.lote.cantidadProducida,d)||(a.lote.cantidadProducida=d),g(d)}),o()(),s(21,"div",13),v(22,Uo,10,7,"div",14),s(23,"button",15),V("click",function(){return f(h),g(a.agregarItemDeMateriaPrima())}),l(24,"Agregar Materia Prima"),o()(),s(25,"button",16),l(26,"Registrar"),o()(),v(27,Wo,3,1,"div",17)(28,Bo,3,1,"div",18),o()}n&2&&(c(8),I("ngModel",a.lote.codigo),c(4),I("ngModel",a.lote.nombre),c(4),I("ngModel",a.lote.fechaElaboracion),c(4),I("ngModel",a.lote.cantidadProducida),c(2),m("ngForOf",a.lote.itemsDeMateriaPrima),c(5),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[j,H,fe,ge,O,ae,de,G,q,B,W,U,M,z,E],encapsulation:2});let i=e;return i})();function Go(i,e){if(i&1&&(s(0,"div")(1,"div",8)(2,"a",9),l(3,"Entregar a canal"),o(),s(4,"a",10),l(5,"Borrar producto"),o()()()),i&2){let r=p(2);c(2),T("routerLink","/entregarACanal/",r.producto.id,""),c(2),T("routerLink","/delete-producto/",r.producto.id,"")}}function qo(i,e){if(i&1&&(s(0,"div",3)(1,"h2",4),l(2,"Detalles del producto"),o(),s(3,"div",5)(4,"p",6)(5,"strong"),l(6,"Nombre:"),o(),l(7),o(),s(8,"p",6)(9,"strong"),l(10,"Fecha de envasado:"),o(),l(11),ne(12,"date"),o(),s(13,"p",6)(14,"strong"),l(15,"Fecha de vencimiento:"),o(),l(16),ne(17,"date"),o(),s(18,"p",6)(19,"strong"),l(20,"Cantidad de productos:"),o(),l(21),o(),s(22,"p",6)(23,"strong"),l(24,"Precio de venta"),o(),l(25),ne(26,"currency"),o(),s(27,"p",6)(28,"strong"),l(29,"Costo total"),o(),l(30),ne(31,"currency"),o(),v(32,Go,6,4,"div",7),o()()),i&2){let r=p();c(7),w(" ",r.producto.nombre,""),c(4),w(" ",re(12,7,r.producto.fechaEnvasado),""),c(5),w(" ",re(17,9,r.producto.fechaVencimiento),""),c(5),w(" ",r.producto.cantidadProductos,""),c(4),w(" ",re(26,11,r.producto.precioVenta),""),c(5),w(" ",re(31,13,r.producto.costoTotal),""),c(2),m("ngIf",r.producto.activo)}}function Ho(i,e){if(i&1&&(s(0,"div",11),l(1),o()),i&2){let r=p();c(),w(" ",r.errorMessage," ")}}var rn=(()=>{let e=class e{constructor(t,n){this.route=t,this.productoService=n,this.errorMessage=""}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.productoService.getProducto(t).subscribe(n=>{this.producto=n},n=>{console.error("Error: ",n),this.errorMessage=n.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(F),u(_e))},e.\u0275cmp=y({type:e,selectors:[["app-producto-detail"]],standalone:!0,features:[b],decls:3,vars:2,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-text"],[4,"ngIf"],[1,"mt-3"],[1,"btn","btn-info","btn-sm",3,"routerLink"],[1,"btn","btn-danger",3,"routerLink"],[1,"alert","alert-danger","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,qo,33,15,"div",1)(2,Ho,2,1,"div",2),o()),n&2&&(c(),m("ngIf",a.producto),c(),m("ngIf",a.errorMessage))},dependencies:[M,E,nt,he,$,Z],encapsulation:2});let i=e;return i})();function zo(i,e){if(i&1){let r=D();s(0,"div",4)(1,"div",5)(2,"h2",6),l(3,"Eliminar Producto"),o()(),s(4,"div",7)(5,"p",8),l(6),o(),s(7,"button",9),V("click",function(){f(r);let n=p();return g(n.deleteProducto())}),l(8,"Eliminar"),o()()()}if(i&2){let r=p();c(6),w("\xBFEst\xE1s seguro de que deseas eliminar el producto ",r.producto.nombre,"?")}}function Ko(i,e){if(i&1&&(s(0,"div",10)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.errorMessage)}}function $o(i,e){if(i&1&&(s(0,"div",11)(1,"p"),l(2),o()()),i&2){let r=p();c(2),C(r.successMessage)}}var on=(()=>{let e=class e{constructor(t,n,a){this.productoService=t,this.route=n,this.router=a,this.errorMessage="",this.successMessage="",this.productoId=null}ngOnInit(){this.route.params.subscribe(t=>{t.id&&(this.productoId=+t.id,this.loadProducto(this.productoId))})}loadProducto(t){this.productoService.getProducto(t).subscribe(n=>{this.producto=n},n=>{console.error("Error: ",n),this.errorMessage="No se pudo cargar el usuario"})}deleteProducto(){this.productoId!==null?this.productoService.deleteProducto(this.productoId).subscribe(()=>{this.successMessage="Producto eliminado con \xE9xito",setTimeout(()=>{this.router.navigate(["/"])},2e3)},t=>{console.error("Error: ",t),this.errorMessage=t.error.message}):this.errorMessage="ID de usuario no v\xE1lido"}};e.\u0275fac=function(n){return new(n||e)(u(_e),u(F),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-delete-producto"]],standalone:!0,features:[b],decls:4,vars:3,consts:[[1,"container","mt-3"],["class","card",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],["class","alert alert-success mt-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger","mt-3"],[1,"alert","alert-success","mt-3"]],template:function(n,a){n&1&&(s(0,"div",0),v(1,zo,9,1,"div",1)(2,Ko,3,1,"div",2)(3,$o,3,1,"div",3),o()),n&2&&(c(),m("ngIf",a.producto),c(),m("ngIf",a.errorMessage),c(),m("ngIf",a.successMessage))},dependencies:[M,E],encapsulation:2});let i=e;return i})();function Zo(i,e){if(i&1&&(s(0,"option",11),l(1),o()),i&2){let r=e.$implicit;m("ngValue",r.id),c(),C(r.nombre)}}function Xo(i,e){if(i&1&&(s(0,"div",12),l(1),o()),i&2){let r=p();c(),w(" ",r.message," ")}}var an=(()=>{let e=class e{constructor(t,n,a,h){this.route=t,this.canalesService=n,this.productoService=a,this.router=h,this.productId="",this.selectedCanal=0,this.cantidad=1,this.canales=[],this.message=null}ngOnInit(){let t=this.route.snapshot.paramMap.get("productoId");t?(this.productId=t,console.log(this.productId)):this.message="ID de producto no encontrado",this.loadCanales()}loadCanales(){this.canalesService.getCanales().subscribe(t=>{this.canales=t},t=>{console.error("Error al cargar canales",t)})}entregarProducto(t){t.valid&&this.canalesService.entregarProductos(this.productId,this.selectedCanal,this.cantidad).subscribe(n=>{console.log(this.productId),this.message="Productos entregados",t.reset(),this.selectedCanal=1,this.cantidad=1,this.router.navigate(["/productos"],{queryParams:{message:this.message}})},n=>{console.log(this.productId),console.error("Error: ",n),this.message=n.error.message})}};e.\u0275fac=function(n){return new(n||e)(u(F),u(ue),u(_e),u(P))},e.\u0275cmp=y({type:e,selectors:[["app-entregar-producto"]],standalone:!0,features:[b],decls:17,vars:4,consts:[["entregaForm","ngForm"],[1,"container","mt-4"],[3,"ngSubmit"],[1,"form-group"],["for","canal"],["id","canal","name","canal","required","",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["for","cantidad"],["type","number","id","cantidad","name","cantidad","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["class","alert alert-warning mt-3",4,"ngIf"],[3,"ngValue"],[1,"alert","alert-warning","mt-3"]],template:function(n,a){if(n&1){let h=D();s(0,"div",1)(1,"h2"),l(2,"Entregar producto a canal"),o(),s(3,"form",2,0),V("ngSubmit",function(){f(h);let d=N(4);return g(a.entregarProducto(d))}),s(5,"div",3)(6,"label",4),l(7,"Seleccionar Canal"),o(),s(8,"select",5),x("ngModelChange",function(d){return f(h),S(a.selectedCanal,d)||(a.selectedCanal=d),g(d)}),v(9,Zo,2,2,"option",6),o()(),s(10,"div",3)(11,"label",7),l(12,"Cantidad de productos"),o(),s(13,"input",8),x("ngModelChange",function(d){return f(h),S(a.cantidad,d)||(a.cantidad=d),g(d)}),o()(),s(14,"button",9),l(15,"Entregar Producto"),o()(),v(16,Xo,2,1,"div",10),o()}n&2&&(c(8),I("ngModel",a.selectedCanal),c(),m("ngForOf",a.canales),c(4),I("ngModel",a.cantidad),c(3),m("ngIf",a.message))},dependencies:[j,H,fe,ge,O,ae,de,G,q,B,W,U,M,z,E],encapsulation:2});let i=e;return i})();function Yo(i,e){if(i&1&&(s(0,"tr")(1,"td"),l(2),o()()),i&2){let r=e.$implicit;c(2),C(r.nombre)}}function Jo(i,e){if(i&1&&(s(0,"div")(1,"div",3)(2,"table",4)(3,"thead")(4,"tr")(5,"th"),l(6,"Nombre"),o()()(),s(7,"tbody"),v(8,Yo,3,1,"tr",5),o()()()()),i&2){let r=p();c(8),m("ngForOf",r.productos)}}function Qo(i,e){i&1&&(s(0,"div",6),l(1," No hay productos disponibles. "),o())}var sn=(()=>{let e=class e{constructor(t,n){this.canalService=t,this.route=n,this.productos=[],this.errorMessage=""}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));t&&this.canalService.getProductos(t).subscribe(n=>{this.productos=n,console.log(this.productos)},n=>{console.error("Error: ",n)})}};e.\u0275fac=function(n){return new(n||e)(u(ue),u(F))},e.\u0275cmp=y({type:e,selectors:[["app-canal-products"]],standalone:!0,features:[b],decls:6,vars:2,consts:[["noProducts",""],[1,"container","mt-4"],[4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-info"]],template:function(n,a){if(n&1&&(s(0,"div",1)(1,"h2"),l(2,"Lista de Productos"),o(),v(3,Jo,9,1,"div",2)(4,Qo,2,0,"ng-template",null,0,Se),o()),n&2){let h=N(5);c(3),m("ngIf",a.productos.length>0)("ngIfElse",h)}},dependencies:[M,z,E,$],encapsulation:2});let i=e;return i})();var ln=[{path:"",component:Ji},{path:"users",component:wi,canActivate:[k]},{path:"register",component:Ei},{path:"user/:id",component:Ii,canActivate:[k]},{path:"edit-user/:id",component:Si,canActivate:[k]},{path:"delete-user/:id",component:xi,canActivate:[k]},{path:"familias",component:Vi,canActivate:[k]},{path:"registerFamilia",component:Fi,canActivate:[k]},{path:"edit-familia/:id",component:Di,canActivate:[k]},{path:"delete-familia/:id",component:Pi,canActivate:[k]},{path:"insumos",component:Ti,canActivate:[k]},{path:"registerInsumo",component:Ri,canActivate:[k]},{path:"edit-insumo/:id",component:ki,canActivate:[k]},{path:"delete-insumo/:id",component:Oi,canActivate:[k]},{path:"lotes",component:Ai,canActivate:[k]},{path:"lote/:id",component:en,canActivate:[k]},{path:"delete-lote/:id",component:tn,canActivate:[k]},{path:"agregarLote",component:nn,canActivate:[k]},{path:"recetas",component:Gi,canActivate:[k]},{path:"registerReceta",component:qi,canActivate:[k]},{path:"receta/:id",component:Hi,canActivate:[k]},{path:"edit-receta/:id",component:zi,canActivate:[k]},{path:"delete-receta/:id",component:Ki,canActivate:[k]},{path:"productos",component:Li,canActivate:[k]},{path:"crearProducto/:id",component:Ni,canActivate:[k]},{path:"producto/:id",component:rn,canActivate:[k]},{path:"delete-producto/:id",component:on,canActivate:[k]},{path:"entregarACanal/:productoId",component:an,canActivate:[k]},{path:"canales",component:ji,canActivate:[k]},{path:"delete-canal/:id",component:Ui,canActivate:[k]},{path:"edit-canal/:id",component:Wi,canActivate:[k]},{path:"create-canal",component:Bi,canActivate:[k]},{path:"canal-productos/:id",component:sn,canActivate:[k]},{path:"materiasPrimas",component:$i,canActivate:[k]},{path:"delete-materia/:id",component:Zi,canActivate:[k]},{path:"edit-materia/:id",component:Xi,canActivate:[k]},{path:"create-materia",component:Yi,canActivate:[k]},{path:"login",component:Qi}];var cn={providers:[jt({eventCoalescing:!0}),Zt(ln),zt(),Gt(qt())]};var ea={providers:[Kt()]},dn=Wt(cn,ea);var ta=()=>Ht(Mi,dn),cd=ta;export{cd as a};
